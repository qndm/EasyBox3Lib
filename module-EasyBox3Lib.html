<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Module: EasyBox3Lib</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="fallback-light"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-config.html">config</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-config.html">config</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Menu.html">Menu</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Pages.html">Pages</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Item.html">Item</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Thing.html">Thing</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Menu.html">Menu</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Pages.html">Pages</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Item.html">Item</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Thing.html">Thing</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-namespaces"><div>Namespaces</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-config.EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-config.EasyBox3Lib.html">EasyBox3Lib</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#EasyBox3Lib">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="global.html#EasyBox3Lib">EasyBox3Lib</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#dark-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section><header></header><article><div class="container-overview"><div class="description"><p>EasyBox3Lib库<br>一个适用于大部分地图的通用代码库</p></div><dl class="details"><div class="details-item-container"><dt class="tag-version bold">Version</dt><dd class="tag-version"><ul><li>0.1.0</li></ul></dd></div><div class="details-item-container"><dt class="tag-author bold">Author</dt><dd class="tag-author"><ul><li>qndm Nomen</li></ul></dd></div><div class="details-item-container"><dt class="tag-license bold">License</dt><dd class="tag-license"><ul><li>MIT</li></ul></dd></div><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1">line 1</a></li></ul></dd></div></dl><dl class="details"><div class="details-item-container"><dt class="tag-version bold">Version</dt><dd class="tag-version"><ul><li>0.1.0</li></ul></dd></div><div class="details-item-container"><dt class="tag-author bold">Author</dt><dd class="tag-author"><ul><li>qndm Nomen</li></ul></dd></div><div class="details-item-container"><dt class="tag-license bold">License</dt><dd class="tag-license"><ul><li>MIT</li></ul></dd></div><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1">line 1</a></li></ul></dd></div></dl></div><h2 id="classes" class="subsection-title has-anchor">Classes</h2><dl><dt><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Menu.html">Menu</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Pages.html">Pages</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Item.html">Item</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Thing.html">Thing</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Menu.html">Menu</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Pages.html">Pages</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Item.html">Item</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Thing.html">Thing</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></dt><dd></dd></dl><h2 id="members" class="subsection-title has-anchor">Members</h2><h3 class="name has-anchor" id="~CONFIG"><span class="type-signature">(inner, constant) </span>CONFIG<span class="type-signature"></span></h3><div class="description"><p>配置文件</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line12">line 12</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~gameLoops"><span class="type-signature">(inner) </span>gameLoops<span class="type-signature"> :Map.&lt;string, {statu: ("running"|"stop"|"awaiting_deletion"|"awaiting_stop"), init: EventCallBack, times: number}></span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map.&lt;string, {statu: ("running"|"stop"|"awaiting_deletion"|"awaiting_stop"), init: EventCallBack, times: number}></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line210">line 210</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~started"><span class="type-signature">(inner) </span>started<span class="type-signature"></span></h3><div class="description"><p>地图是否完全启动（预处理函数执行完成）@type {boolean}</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line247">line 247</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~itemRegistry"><span class="type-signature">(inner) </span>itemRegistry<span class="type-signature"></span></h3><div class="description"><p>物品注册表 @private @type {Map&lt;string, Item&gt;}</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line249">line 249</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~storageQueue"><span class="type-signature">(inner) </span>storageQueue<span class="type-signature"> :Map.&lt;string, StorageTask></span></h3><div class="description"><p>Storage Queue - Storage任务队列 队列只会在<code>start</code>方法调用时才会开始，或者手动调用<code>startStorageQueue</code>函数</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map.&lt;string, StorageTask></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line255">line 255</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~storageQueueStarted"><span class="type-signature">(inner) </span>storageQueueStarted<span class="type-signature"> :boolean</span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">boolean</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line257">line 257</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~CONFIG"><span class="type-signature">(inner, constant) </span>CONFIG<span class="type-signature"></span></h3><div class="description"><p>配置文件</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line12">line 12</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~gameLoops"><span class="type-signature">(inner) </span>gameLoops<span class="type-signature"> :Map.&lt;string, {statu: ("running"|"stop"|"awaiting_deletion"|"awaiting_stop"), init: EventCallBack, times: number}></span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map.&lt;string, {statu: ("running"|"stop"|"awaiting_deletion"|"awaiting_stop"), init: EventCallBack, times: number}></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line210">line 210</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~started"><span class="type-signature">(inner) </span>started<span class="type-signature"></span></h3><div class="description"><p>地图是否完全启动（预处理函数执行完成）@type {boolean}</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line247">line 247</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~itemRegistry"><span class="type-signature">(inner) </span>itemRegistry<span class="type-signature"></span></h3><div class="description"><p>物品注册表 @private @type {Map&lt;string, Item&gt;}</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line249">line 249</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~storageQueue"><span class="type-signature">(inner) </span>storageQueue<span class="type-signature"> :Map.&lt;string, StorageTask></span></h3><div class="description"><p>Storage Queue - Storage任务队列 队列只会在<code>start</code>方法调用时才会开始，或者手动调用<code>startStorageQueue</code>函数</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map.&lt;string, StorageTask></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line255">line 255</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~storageQueueStarted"><span class="type-signature">(inner) </span>storageQueueStarted<span class="type-signature"> :boolean</span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">boolean</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line257">line 257</a></li></ul></dd></div></dl><h2 id="methods" class="subsection-title has-anchor">Methods</h2><h3 class="name has-anchor" id="~nullc"><span class="type-signature">(inner) </span>nullc<span class="signature">(a, b)</span><span class="type-signature"> &rarr; {*}</span></h3><div class="description"><p>空值合并</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>a</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"></td></tr><tr><td class="name"><code>b</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line31">line 31</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">*</span></dd></dl></div><h3 class="name has-anchor" id="~copyObject"><span class="type-signature">(inner) </span>copyObject<span class="signature">(obj)</span><span class="type-signature"> &rarr; {any}</span></h3><div class="description"><p>复制一个<code>object</code></p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>obj</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>要复制的<code>object</code></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1272">line 1272</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">any</span></dd></dl></div><h3 class="name has-anchor" id="~getEntity"><span class="type-signature">(inner) </span>getEntity<span class="signature">(id)</span><span class="type-signature"> &rarr; {Box3Entity}</span></h3><div class="description"><p>使用实体ID获取一个实体</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体ID</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1286">line 1286</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3Entity</span></dd></dl></div><h3 class="name has-anchor" id="~getEntities"><span class="type-signature">(inner) </span>getEntities<span class="signature">(tag)</span><span class="type-signature"> &rarr; {Array.&lt;Box3Entity>}</span></h3><div class="description"><p>使用实体标签获取一组实体</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>tag</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体标签</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1296">line 1296</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array.&lt;Box3Entity></span></dd></dl></div><h3 class="name has-anchor" id="~getPlayer"><span class="type-signature">(inner) </span>getPlayer<span class="signature">(value, key)</span><span class="type-signature"> &rarr; {Box3PlayerEntity|undefined}</span></h3><div class="description"><p>通过玩家的昵称/BoxID/userKey找到一个玩家<br>如果没有找到，返回<code>undefined</code><br>也可以在key参数中填入其他的东西，但不建议，因为可能有多个玩家满足该条件<br>判断方法：</p><pre class="prettyprint source lang-javascript"><code>entity.player[key] == value
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">*</span></td><td class="default"></td><td class="description last"><p>见上</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="default">name</td><td class="description last"><p>见上，一般填入<code>name</code>、<code>boxid</code>、<code>userKey</code>，默认为<code>name</code></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1313">line 1313</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3PlayerEntity</span> |<wbr> <span class="param-type">undefined</span></dd></dl></div><h3 class="name has-anchor" id="~getTheCodeExecutionLocation"><span class="type-signature">(inner) </span>getTheCodeExecutionLocation<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h3><div class="description"><p>获取当前代码的执行位置</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1323">line 1323</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Object</span></dd></dl></div><h3 class="name has-anchor" id="~output"><span class="type-signature">(inner) </span>output<span class="signature">(type, &hellip;data)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>输出一段日志，并记录到日志文件中</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">'log'</span> |<wbr> <span class="param-type">'warn'</span> |<wbr> <span class="param-type">'error'</span></td><td class="attributes"></td><td class="description last"><p>输出类型</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;repeatable><br></td><td class="description last"><p>要输出的内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1336">line 1336</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="~throwError"><span class="type-signature">(inner) </span>throwError<span class="signature">(&hellip;data)</span></h3><div class="description"><p>抛出错误</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;repeatable><br></td><td class="description last"><p>错误内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1357">line 1357</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~isAdmin"><span class="type-signature">(inner) </span>isAdmin<span class="signature">(entity)</span><span class="type-signature"> &rarr; {boolean}</span></h3><div class="description"><p>通过管理员列表，判断一个玩家是不是管理员<br>注意：对于在运行过程中添加的管理员（即<code>entity.player.isAdmin</code>为<code>true</code>但管理员列表中没有该玩家的<code>userKey</code>，返回<code>false</code><br>对于这种情况，应该使用：</p><pre class="prettyprint source lang-javascript"><code>entity.player.isAdmin
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要判断的实体</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1381">line 1381</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">boolean</span></dd></dl></div><h3 class="name has-anchor" id="~setAdminStatus"><span class="type-signature">(inner) </span>setAdminStatus<span class="signature">(entity, type)</span></h3><div class="description"><p>设置一个玩家是否是管理员</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要设置的玩家</p></td></tr><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>是否设置为管理员</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1389">line 1389</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~resizePlayer"><span class="type-signature">(inner) </span>resizePlayer<span class="signature">(entity, size)</span></h3><div class="description"><p>缩放一个玩家，包括玩家的移动速度&amp;跳跃高度</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要缩放的玩家</p></td></tr><tr><td class="name"><code>size</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>缩放尺寸</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1398">line 1398</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~createEntity"><span class="type-signature">(inner) </span>createEntity<span class="signature">(mesh, position, collides, gravity, meshScale, meshOrientation)</span><span class="type-signature"> &rarr; {Box3Entity|null}</span></h3><div class="description"><p>简单创建一个实体（其实也没简单到哪去）</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>mesh</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体外形</p></td></tr><tr><td class="name"><code>position</code></td><td class="type"><span class="param-type">Box3Vector3</span></td><td class="description last"><p>实体位置</p></td></tr><tr><td class="name"><code>collides</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>实体是否可碰撞</p></td></tr><tr><td class="name"><code>gravity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>实体是否会下落</p></td></tr><tr><td class="name"><code>meshScale</code></td><td class="type"><span class="param-type">Box3Vector3</span></td><td class="description last"><p>实体的缩放比例</p></td></tr><tr><td class="name"><code>meshOrientation</code></td><td class="type"><span class="param-type">Box3Quaternion</span></td><td class="description last"><p>实体的旋转角度</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1423">line 1423</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3Entity</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~textDialog"><span class="type-signature">(async, inner) </span>textDialog<span class="signature">(entity, title, content, hasArrow, otherOptions)</span><span class="type-signature"> &rarr; {'success'|number|null}</span></h3><div class="description"><p>弹出一个/若干个文本对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">Array.&lt;string></span></td><td class="description last"><p>对话框的正文，也可以输入一个列表来实现多个对话框依次弹出（相当于一个低配版的<code>Pages</code>）</p></td></tr><tr><td class="name"><code>hasArrow</code></td><td class="type"><span class="param-type">'auto'</span> |<wbr> <span class="param-type">boolean</span></td><td class="description last"><p>是否显示箭头提示，<code>auto</code>表示自动</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1453">line 1453</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>如果完成了所有对话，则返回<code>success</code>（只有一个对话框）或者完成对话框的数量（有多个对话框）；否则返回<code>null</code>（只有一个对话框）</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">'success'</span> |<wbr> <span class="param-type">number</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~inputDialog"><span class="type-signature">(async, inner) </span>inputDialog<span class="signature">(entity, title, content, confirmText, placeholder, otherOptions)</span><span class="type-signature"> &rarr; {string|null}</span></h3><div class="description"><p>弹出一个输入对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的正文</p></td></tr><tr><td class="name"><code>confirmText</code></td><td class="type"><span class="param-type">undefined</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>可选，确认按钮文字</p></td></tr><tr><td class="name"><code>placeholder</code></td><td class="type"><span class="param-type">undefined</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>可选，输入框提示文字</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1494">line 1494</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>输入框填写的内容字符串</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~selectDialog"><span class="type-signature">(async, inner) </span>selectDialog<span class="signature">(entity, title, content, options, otherOptions)</span><span class="type-signature"> &rarr; {Box3DialogSelectResponse}</span></h3><div class="description"><p>弹出一个选项对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的正文</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>选项列表</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1517">line 1517</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>玩家选择的选项</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3DialogSelectResponse</span></dd></dl></div><h3 class="name has-anchor" id="~shuffleTheList"><span class="type-signature">(inner) </span>shuffleTheList<span class="signature">(oldList)</span><span class="type-signature"> &rarr; {Array.&lt;any>}</span></h3><div class="description"><p>打乱一个列表</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>oldList</code></td><td class="type"><span class="param-type">Array.&lt;any></span></td><td class="description last"><p>要打乱的列表</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1539">line 1539</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array.&lt;any></span></dd></dl></div><h3 class="name has-anchor" id="~random"><span class="type-signature">(inner) </span>random<span class="signature">(min, max, integer)</span><span class="type-signature"> &rarr; {number}</span></h3><div class="description"><p>随机生成一个数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>min</code></td><td class="type"><span class="param-type">number</span></td><td class="default">0</td><td class="description last"><p>生成范围的最小值</p></td></tr><tr><td class="name"><code>max</code></td><td class="type"><span class="param-type">number</span></td><td class="default">1</td><td class="description last"><p>生成范围的最大值</p></td></tr><tr><td class="name"><code>integer</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>是否生成一个整数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1554">line 1554</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">number</span></dd></dl></div><h3 class="name has-anchor" id="~toChineseDate"><span class="type-signature">(inner) </span>toChineseDate<span class="signature">(date)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>将Unix时间戳转换为中文日期</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>date</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>Unix时间戳</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1568">line 1568</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>toChineseDate(Date.now())</code></pre></div></div><h3 class="name has-anchor" id="~executeSQLCode"><span class="type-signature">(async, inner) </span>executeSQLCode<span class="signature">(code)</span><span class="type-signature"> &rarr; {any}</span></h3><div class="description"><p>执行一段SQL命令</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>code</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1579">line 1579</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">any</span></dd></dl></div><h3 class="name has-anchor" id="~tryExecuteSQL"><span class="type-signature">(async, inner) </span>tryExecuteSQL<span class="signature">(func, msg)</span></h3><div class="description"><p>尝试执行SQL代码</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>func</code></td><td class="type"><span class="param-type">function</span></td><td class="description last"><p>要执行的代码</p></td></tr><tr><td class="name"><code>msg</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>当代码执行失败时，输出的信息</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1609">line 1609</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~getDataStorage"><span class="type-signature">(async, inner) </span>getDataStorage<span class="signature">(key)</span><span class="type-signature"> &rarr; {DataStorage}</span></h3><div class="description"><p>连接指定数据存储空间，如果不存在则创建一个新的空间。</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称，长度不超过50个字符</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1630">line 1630</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">DataStorage</span></dd></dl></div><h3 class="name has-anchor" id="~getDataStorageInCache"><span class="type-signature">(inner) </span>getDataStorageInCache<span class="signature">(storageKey)</span><span class="type-signature"> &rarr; {DataStorage}</span></h3><div class="description"><p>在缓存中直接获取指定数据存储空间<br>比<code>getDataStorage</code>更快，但不能创建数据存储空间</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定数据存储空间名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1650">line 1650</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">DataStorage</span></dd></dl></div><h3 class="name has-anchor" id="~setData"><span class="type-signature">(async, inner) </span>setData<span class="signature">(storageKey, key, value)</span></h3><div class="description"><p>设置一个键值对<br>与<code>DataStorage.set</code>方法不同，该方法调用后不会立即写入数据，而是移动到Storage Queue中，所以不是异步函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>需要设置的键</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>需要设置的值</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1663">line 1663</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~getData"><span class="type-signature">(async, inner) </span>getData<span class="signature">(storageKey, key)</span><span class="type-signature"> &rarr; {ReturnValue}</span></h3><div class="description"><p>查找一个键值对</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定的键</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1680">line 1680</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">ReturnValue</span></dd></dl></div><h3 class="name has-anchor" id="~listData"><span class="type-signature">(async, inner) </span>listData<span class="signature">(storageKey, options)</span><span class="type-signature"> &rarr; {QueryList}</span></h3><div class="description"><p>批量获取键值对<br>注意：该方法不会创建缓存和读取缓存，所以该方法比<code>get</code>更慢</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">ListPageOptions</span></td><td class="description last"><p>批量获取键值对的配置项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1696">line 1696</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">QueryList</span></dd></dl></div><h3 class="name has-anchor" id="~removeData"><span class="type-signature">(inner) </span>removeData<span class="signature">(storageKey, key)</span></h3><div class="description"><p>删除表中的键值对 与<code>DataStorage.remove</code>方法不同，该方法调用后不会立即写入数据，而是移动到Storage Queue中，所以不是异步函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定的键</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1706">line 1706</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~dropDataStorage"><span class="type-signature">(async, inner) </span>dropDataStorage<span class="signature">(storageKey)</span></h3><div class="description"><p>删除指定数据存储空间<br>警告：删除之后无法恢复，请谨慎使用！！！</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定数据存储空间</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1718">line 1718</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~createGameLoop"><span class="type-signature">(inner) </span>createGameLoop<span class="signature">(name, callbackfn)</span></h3><div class="description"><p>创建游戏循环<br>需要手动运行</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">EventCallBack</span></td><td class="description last"><p>要执行的函数。提供一个参数：time，代表循环执行的次数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1727">line 1727</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~startGameLoop"><span class="type-signature">(async, inner) </span>startGameLoop<span class="signature">(name, callbackfn)</span></h3><div class="description"><p>创建并运行游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">EventCallBack</span> |<wbr> <span class="param-type">undefined</span></td><td class="description last"><p>要执行的函数。提供一个参数：time，代表循环执行的次数。如果为空且循环存在，则继续循环</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1740">line 1740</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~stopGameLoop"><span class="type-signature">(inner) </span>stopGameLoop<span class="signature">(name)</span></h3><div class="description"><p>停止游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1753">line 1753</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~runGameLoop"><span class="type-signature">(async, inner) </span>runGameLoop<span class="signature">(name)</span></h3><div class="description"><p>运行游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1761">line 1761</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~deleteGameLoop"><span class="type-signature">(inner) </span>deleteGameLoop<span class="signature">(name)</span></h3><div class="description"><p>删除游戏循环，之后不能再对该循环进行操作<br>如果循环正在运行中，那么循环结束后才会删除</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1790">line 1790</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~registerEvent"><span class="type-signature">(inner) </span>registerEvent<span class="signature">(name)</span></h3><div class="description"><p>注册一个事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1807">line 1807</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');</code></pre></div></div><h3 class="name has-anchor" id="~addEventHandler"><span class="type-signature">(inner) </span>addEventHandler<span class="signature">(eventName, handler)</span></h3><div class="description"><p>添加事件监听器</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr><tr><td class="name"><code>handler</code></td><td class="type"><span class="param-type">EventCallBack</span></td><td class="description last"><p>事件监听器</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1825">line 1825</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', () => {
    output("log", '触发事件');
});</code></pre></div></div><h3 class="name has-anchor" id="~triggerEvent"><span class="type-signature">(async, inner) </span>triggerEvent<span class="signature">(eventName, data)</span></h3><div class="description"><p>触发一个事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>监听器使用的参数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1854">line 1854</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Examples</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', () => {
    output("log", '触发事件');
});
triggerEvent('testEvent');</code></pre></div><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', ({ data }) => {
    output("log", '触发事件 data =', data);
});
triggerEvent('testEvent', { data: 114514 });</code></pre></div></div><h3 class="name has-anchor" id="~removeEvent"><span class="type-signature">(inner) </span>removeEvent<span class="signature">(eventName)</span></h3><div class="description"><p>移除一个事件，之后不能监听该事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1863">line 1863</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~onTick"><span class="type-signature">(inner) </span>onTick<span class="signature">(handler, tps, enforcement, automaticTps)</span><span class="type-signature"> &rarr; {OnTickHandlerToken}</span></h3><div class="description"><p>注册一个<code>onTick</code>事件，类似于<code>Box3</code>中的<code>onTick</code>事件，但有一些优化<br>需要在预处理时注册</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>handler</code></td><td class="type"><span class="param-type">onTickEventCallBack</span></td><td class="default"></td><td class="description last"><p>要执行的函数</p></td></tr><tr><td class="name"><code>tps</code></td><td class="type"><span class="param-type">number</span></td><td class="default"></td><td class="description last"><p>每个循环的执行次数</p></td></tr><tr><td class="name"><code>enforcement</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>如果为false，则如果上一次未执行完，则不会执行</p></td></tr><tr><td class="name"><code>automaticTps</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>是否自动调整tps</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1882">line 1882</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">OnTickHandlerToken</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>onTick(({ tick }) => {
    output("log", 'tick', tick);
}, 16);</code></pre></div></div><h3 class="name has-anchor" id="~preprocess"><span class="type-signature">(inner) </span>preprocess<span class="signature">(callbackfn, priority)</span></h3><div class="description"><p>添加预处理函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">preprocessCallback</span></td><td class="description last"><p>要执行的函数</p></td></tr><tr><td class="name"><code>priority</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>优先级，值越大越先执行</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1902">line 1902</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>preprocess(() => {
    output("log", '这是一个预处理函数，会第一个执行');
}, 2);
preprocess(() => {
    output("log", '这是一个预处理函数，会第二个执行');
}, 1);
preprocess(() => {
    output("log", '优先级甚至可以是负数和小数！');
}, -114.514);</code></pre></div></div><h3 class="name has-anchor" id="~planningOnTickEvents"><span class="type-signature">(async, inner) </span>planningOnTickEvents<span class="signature">()</span></h3><div class="description"><p>规划onTick事件</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1909">line 1909</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~start"><span class="type-signature">(async, inner) </span>start<span class="signature">()</span></h3><div class="description"><p>启动地图（执行预处理函数）</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1928">line 1928</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~changeVelocity"><span class="type-signature">(inner) </span>changeVelocity<span class="signature">(velocity, time)</span></h3><div class="description"><p>转换速度单位<br>把<code>velocity</code>/<code>time</code>转换为<code>result</code>/<code>64ms</code><br>公式为：</p><pre class="prettyprint source lang-javascript"><code>result = velocity * time / 64
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>velocity</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>移动的速度，每<code>time</code>应该移动<code>velocity</code>格</p></td></tr><tr><td class="name"><code>time</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>速度的单位时间，单位：ms。默认为1s</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1971">line 1971</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Examples</strong><div class="rel"><pre class="prettyprint"><code>changeVelocity(1, 1000); // 1格/s</code></pre></div><div class="rel"><pre class="prettyprint"><code>changeVelocity(299792458, 1000); // 光速，299792458格/s</code></pre></div></div><h3 class="name has-anchor" id="~registerItem"><span class="type-signature">(inner) </span>registerItem<span class="signature">(item)</span><span class="type-signature"> &rarr; {boolean}</span></h3><div class="description"><p>注册一种物品<br>如果成功注册物品，返回<code>true</code>，否则返回<code>false</code></p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>item</code></td><td class="type"><span class="param-type">Item</span></td><td class="description last"><p>要注册的物品</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1981">line 1981</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">boolean</span></dd></dl></div><h3 class="name has-anchor" id="~startStorageQueue"><span class="type-signature">(inner) </span>startStorageQueue<span class="signature">()</span></h3><div class="description"><p>启动Storage Queue<br>只有启动了Storage Queue，<code>setData</code>和<code>removeData</code>的任务才会被处理</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1991">line 1991</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~stopStorageQueue"><span class="type-signature">(inner) </span>stopStorageQueue<span class="signature">()</span></h3><div class="description"><p>停止Storage Queue<br><code>setData</code>和<code>removeData</code>仍会将任务放到队列中，但不会再次处理，除非运行<code>startStorageQueue</code></p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line2027">line 2027</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~translationError"><span class="type-signature">(inner) </span>translationError<span class="signature">(message)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>翻译报错信息</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>message</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>报错内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line2039">line 2039</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>翻译后的信息</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="~nullc"><span class="type-signature">(inner) </span>nullc<span class="signature">(a, b)</span><span class="type-signature"> &rarr; {*}</span></h3><div class="description"><p>空值合并</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>a</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"></td></tr><tr><td class="name"><code>b</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line31">line 31</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">*</span></dd></dl></div><h3 class="name has-anchor" id="~copyObject"><span class="type-signature">(inner) </span>copyObject<span class="signature">(obj)</span><span class="type-signature"> &rarr; {any}</span></h3><div class="description"><p>复制一个<code>object</code></p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>obj</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>要复制的<code>object</code></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1272">line 1272</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">any</span></dd></dl></div><h3 class="name has-anchor" id="~getEntity"><span class="type-signature">(inner) </span>getEntity<span class="signature">(id)</span><span class="type-signature"> &rarr; {Box3Entity}</span></h3><div class="description"><p>使用实体ID获取一个实体</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体ID</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1286">line 1286</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3Entity</span></dd></dl></div><h3 class="name has-anchor" id="~getEntities"><span class="type-signature">(inner) </span>getEntities<span class="signature">(tag)</span><span class="type-signature"> &rarr; {Array.&lt;Box3Entity>}</span></h3><div class="description"><p>使用实体标签获取一组实体</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>tag</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体标签</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1296">line 1296</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array.&lt;Box3Entity></span></dd></dl></div><h3 class="name has-anchor" id="~getPlayer"><span class="type-signature">(inner) </span>getPlayer<span class="signature">(value, key)</span><span class="type-signature"> &rarr; {Box3PlayerEntity|undefined}</span></h3><div class="description"><p>通过玩家的昵称/BoxID/userKey找到一个玩家<br>如果没有找到，返回<code>undefined</code><br>也可以在key参数中填入其他的东西，但不建议，因为可能有多个玩家满足该条件<br>判断方法：</p><pre class="prettyprint source lang-javascript"><code>entity.player[key] == value
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">*</span></td><td class="default"></td><td class="description last"><p>见上</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="default">name</td><td class="description last"><p>见上，一般填入<code>name</code>、<code>boxid</code>、<code>userKey</code>，默认为<code>name</code></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1313">line 1313</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3PlayerEntity</span> |<wbr> <span class="param-type">undefined</span></dd></dl></div><h3 class="name has-anchor" id="~getTheCodeExecutionLocation"><span class="type-signature">(inner) </span>getTheCodeExecutionLocation<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h3><div class="description"><p>获取当前代码的执行位置</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1323">line 1323</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Object</span></dd></dl></div><h3 class="name has-anchor" id="~output"><span class="type-signature">(inner) </span>output<span class="signature">(type, &hellip;data)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>输出一段日志，并记录到日志文件中</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">'log'</span> |<wbr> <span class="param-type">'warn'</span> |<wbr> <span class="param-type">'error'</span></td><td class="attributes"></td><td class="description last"><p>输出类型</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;repeatable><br></td><td class="description last"><p>要输出的内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1336">line 1336</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="~throwError"><span class="type-signature">(inner) </span>throwError<span class="signature">(&hellip;data)</span></h3><div class="description"><p>抛出错误</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;repeatable><br></td><td class="description last"><p>错误内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1357">line 1357</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~isAdmin"><span class="type-signature">(inner) </span>isAdmin<span class="signature">(entity)</span><span class="type-signature"> &rarr; {boolean}</span></h3><div class="description"><p>通过管理员列表，判断一个玩家是不是管理员<br>注意：对于在运行过程中添加的管理员（即<code>entity.player.isAdmin</code>为<code>true</code>但管理员列表中没有该玩家的<code>userKey</code>，返回<code>false</code><br>对于这种情况，应该使用：</p><pre class="prettyprint source lang-javascript"><code>entity.player.isAdmin
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要判断的实体</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1381">line 1381</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">boolean</span></dd></dl></div><h3 class="name has-anchor" id="~setAdminStatus"><span class="type-signature">(inner) </span>setAdminStatus<span class="signature">(entity, type)</span></h3><div class="description"><p>设置一个玩家是否是管理员</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要设置的玩家</p></td></tr><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>是否设置为管理员</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1389">line 1389</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~resizePlayer"><span class="type-signature">(inner) </span>resizePlayer<span class="signature">(entity, size)</span></h3><div class="description"><p>缩放一个玩家，包括玩家的移动速度&amp;跳跃高度</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要缩放的玩家</p></td></tr><tr><td class="name"><code>size</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>缩放尺寸</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1398">line 1398</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~createEntity"><span class="type-signature">(inner) </span>createEntity<span class="signature">(mesh, position, collides, gravity, meshScale, meshOrientation)</span><span class="type-signature"> &rarr; {Box3Entity|null}</span></h3><div class="description"><p>简单创建一个实体（其实也没简单到哪去）</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>mesh</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体外形</p></td></tr><tr><td class="name"><code>position</code></td><td class="type"><span class="param-type">Box3Vector3</span></td><td class="description last"><p>实体位置</p></td></tr><tr><td class="name"><code>collides</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>实体是否可碰撞</p></td></tr><tr><td class="name"><code>gravity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>实体是否会下落</p></td></tr><tr><td class="name"><code>meshScale</code></td><td class="type"><span class="param-type">Box3Vector3</span></td><td class="description last"><p>实体的缩放比例</p></td></tr><tr><td class="name"><code>meshOrientation</code></td><td class="type"><span class="param-type">Box3Quaternion</span></td><td class="description last"><p>实体的旋转角度</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1423">line 1423</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3Entity</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~textDialog"><span class="type-signature">(async, inner) </span>textDialog<span class="signature">(entity, title, content, hasArrow, otherOptions)</span><span class="type-signature"> &rarr; {'success'|number|null}</span></h3><div class="description"><p>弹出一个/若干个文本对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">Array.&lt;string></span></td><td class="description last"><p>对话框的正文，也可以输入一个列表来实现多个对话框依次弹出（相当于一个低配版的<code>Pages</code>）</p></td></tr><tr><td class="name"><code>hasArrow</code></td><td class="type"><span class="param-type">'auto'</span> |<wbr> <span class="param-type">boolean</span></td><td class="description last"><p>是否显示箭头提示，<code>auto</code>表示自动</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1453">line 1453</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>如果完成了所有对话，则返回<code>success</code>（只有一个对话框）或者完成对话框的数量（有多个对话框）；否则返回<code>null</code>（只有一个对话框）</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">'success'</span> |<wbr> <span class="param-type">number</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~inputDialog"><span class="type-signature">(async, inner) </span>inputDialog<span class="signature">(entity, title, content, confirmText, placeholder, otherOptions)</span><span class="type-signature"> &rarr; {string|null}</span></h3><div class="description"><p>弹出一个输入对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的正文</p></td></tr><tr><td class="name"><code>confirmText</code></td><td class="type"><span class="param-type">undefined</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>可选，确认按钮文字</p></td></tr><tr><td class="name"><code>placeholder</code></td><td class="type"><span class="param-type">undefined</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>可选，输入框提示文字</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1494">line 1494</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>输入框填写的内容字符串</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~selectDialog"><span class="type-signature">(async, inner) </span>selectDialog<span class="signature">(entity, title, content, options, otherOptions)</span><span class="type-signature"> &rarr; {Box3DialogSelectResponse}</span></h3><div class="description"><p>弹出一个选项对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的正文</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>选项列表</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1517">line 1517</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>玩家选择的选项</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3DialogSelectResponse</span></dd></dl></div><h3 class="name has-anchor" id="~shuffleTheList"><span class="type-signature">(inner) </span>shuffleTheList<span class="signature">(oldList)</span><span class="type-signature"> &rarr; {Array.&lt;any>}</span></h3><div class="description"><p>打乱一个列表</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>oldList</code></td><td class="type"><span class="param-type">Array.&lt;any></span></td><td class="description last"><p>要打乱的列表</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1539">line 1539</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array.&lt;any></span></dd></dl></div><h3 class="name has-anchor" id="~random"><span class="type-signature">(inner) </span>random<span class="signature">(min, max, integer)</span><span class="type-signature"> &rarr; {number}</span></h3><div class="description"><p>随机生成一个数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>min</code></td><td class="type"><span class="param-type">number</span></td><td class="default">0</td><td class="description last"><p>生成范围的最小值</p></td></tr><tr><td class="name"><code>max</code></td><td class="type"><span class="param-type">number</span></td><td class="default">1</td><td class="description last"><p>生成范围的最大值</p></td></tr><tr><td class="name"><code>integer</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>是否生成一个整数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1554">line 1554</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">number</span></dd></dl></div><h3 class="name has-anchor" id="~toChineseDate"><span class="type-signature">(inner) </span>toChineseDate<span class="signature">(date)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>将Unix时间戳转换为中文日期</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>date</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>Unix时间戳</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1568">line 1568</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>toChineseDate(Date.now())</code></pre></div></div><h3 class="name has-anchor" id="~executeSQLCode"><span class="type-signature">(async, inner) </span>executeSQLCode<span class="signature">(code)</span><span class="type-signature"> &rarr; {any}</span></h3><div class="description"><p>执行一段SQL命令</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>code</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1579">line 1579</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">any</span></dd></dl></div><h3 class="name has-anchor" id="~tryExecuteSQL"><span class="type-signature">(async, inner) </span>tryExecuteSQL<span class="signature">(func, msg)</span></h3><div class="description"><p>尝试执行SQL代码</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>func</code></td><td class="type"><span class="param-type">function</span></td><td class="description last"><p>要执行的代码</p></td></tr><tr><td class="name"><code>msg</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>当代码执行失败时，输出的信息</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1609">line 1609</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~getDataStorage"><span class="type-signature">(async, inner) </span>getDataStorage<span class="signature">(key)</span><span class="type-signature"> &rarr; {DataStorage}</span></h3><div class="description"><p>连接指定数据存储空间，如果不存在则创建一个新的空间。</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称，长度不超过50个字符</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1630">line 1630</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">DataStorage</span></dd></dl></div><h3 class="name has-anchor" id="~getDataStorageInCache"><span class="type-signature">(inner) </span>getDataStorageInCache<span class="signature">(storageKey)</span><span class="type-signature"> &rarr; {DataStorage}</span></h3><div class="description"><p>在缓存中直接获取指定数据存储空间<br>比<code>getDataStorage</code>更快，但不能创建数据存储空间</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定数据存储空间名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1650">line 1650</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">DataStorage</span></dd></dl></div><h3 class="name has-anchor" id="~setData"><span class="type-signature">(async, inner) </span>setData<span class="signature">(storageKey, key, value)</span></h3><div class="description"><p>设置一个键值对<br>与<code>DataStorage.set</code>方法不同，该方法调用后不会立即写入数据，而是移动到Storage Queue中，所以不是异步函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>需要设置的键</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>需要设置的值</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1663">line 1663</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~getData"><span class="type-signature">(async, inner) </span>getData<span class="signature">(storageKey, key)</span><span class="type-signature"> &rarr; {ReturnValue}</span></h3><div class="description"><p>查找一个键值对</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定的键</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1680">line 1680</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">ReturnValue</span></dd></dl></div><h3 class="name has-anchor" id="~listData"><span class="type-signature">(async, inner) </span>listData<span class="signature">(storageKey, options)</span><span class="type-signature"> &rarr; {QueryList}</span></h3><div class="description"><p>批量获取键值对<br>注意：该方法不会创建缓存和读取缓存，所以该方法比<code>get</code>更慢</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">ListPageOptions</span></td><td class="description last"><p>批量获取键值对的配置项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1696">line 1696</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">QueryList</span></dd></dl></div><h3 class="name has-anchor" id="~removeData"><span class="type-signature">(inner) </span>removeData<span class="signature">(storageKey, key)</span></h3><div class="description"><p>删除表中的键值对 与<code>DataStorage.remove</code>方法不同，该方法调用后不会立即写入数据，而是移动到Storage Queue中，所以不是异步函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定的键</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1706">line 1706</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~dropDataStorage"><span class="type-signature">(async, inner) </span>dropDataStorage<span class="signature">(storageKey)</span></h3><div class="description"><p>删除指定数据存储空间<br>警告：删除之后无法恢复，请谨慎使用！！！</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定数据存储空间</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1718">line 1718</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~createGameLoop"><span class="type-signature">(inner) </span>createGameLoop<span class="signature">(name, callbackfn)</span></h3><div class="description"><p>创建游戏循环<br>需要手动运行</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">EventCallBack</span></td><td class="description last"><p>要执行的函数。提供一个参数：time，代表循环执行的次数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1727">line 1727</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~startGameLoop"><span class="type-signature">(async, inner) </span>startGameLoop<span class="signature">(name, callbackfn)</span></h3><div class="description"><p>创建并运行游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">EventCallBack</span> |<wbr> <span class="param-type">undefined</span></td><td class="description last"><p>要执行的函数。提供一个参数：time，代表循环执行的次数。如果为空且循环存在，则继续循环</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1740">line 1740</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~stopGameLoop"><span class="type-signature">(inner) </span>stopGameLoop<span class="signature">(name)</span></h3><div class="description"><p>停止游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1753">line 1753</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~runGameLoop"><span class="type-signature">(async, inner) </span>runGameLoop<span class="signature">(name)</span></h3><div class="description"><p>运行游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1761">line 1761</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~deleteGameLoop"><span class="type-signature">(inner) </span>deleteGameLoop<span class="signature">(name)</span></h3><div class="description"><p>删除游戏循环，之后不能再对该循环进行操作<br>如果循环正在运行中，那么循环结束后才会删除</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1790">line 1790</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~registerEvent"><span class="type-signature">(inner) </span>registerEvent<span class="signature">(name)</span></h3><div class="description"><p>注册一个事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1807">line 1807</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');</code></pre></div></div><h3 class="name has-anchor" id="~addEventHandler"><span class="type-signature">(inner) </span>addEventHandler<span class="signature">(eventName, handler)</span></h3><div class="description"><p>添加事件监听器</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr><tr><td class="name"><code>handler</code></td><td class="type"><span class="param-type">EventCallBack</span></td><td class="description last"><p>事件监听器</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1825">line 1825</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', () => {
    output("log", '触发事件');
});</code></pre></div></div><h3 class="name has-anchor" id="~triggerEvent"><span class="type-signature">(async, inner) </span>triggerEvent<span class="signature">(eventName, data)</span></h3><div class="description"><p>触发一个事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>监听器使用的参数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1854">line 1854</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Examples</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', () => {
    output("log", '触发事件');
});
triggerEvent('testEvent');</code></pre></div><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', ({ data }) => {
    output("log", '触发事件 data =', data);
});
triggerEvent('testEvent', { data: 114514 });</code></pre></div></div><h3 class="name has-anchor" id="~removeEvent"><span class="type-signature">(inner) </span>removeEvent<span class="signature">(eventName)</span></h3><div class="description"><p>移除一个事件，之后不能监听该事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1863">line 1863</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~onTick"><span class="type-signature">(inner) </span>onTick<span class="signature">(handler, tps, enforcement, automaticTps)</span><span class="type-signature"> &rarr; {OnTickHandlerToken}</span></h3><div class="description"><p>注册一个<code>onTick</code>事件，类似于<code>Box3</code>中的<code>onTick</code>事件，但有一些优化<br>需要在预处理时注册</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>handler</code></td><td class="type"><span class="param-type">onTickEventCallBack</span></td><td class="default"></td><td class="description last"><p>要执行的函数</p></td></tr><tr><td class="name"><code>tps</code></td><td class="type"><span class="param-type">number</span></td><td class="default"></td><td class="description last"><p>每个循环的执行次数</p></td></tr><tr><td class="name"><code>enforcement</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>如果为false，则如果上一次未执行完，则不会执行</p></td></tr><tr><td class="name"><code>automaticTps</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>是否自动调整tps</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1882">line 1882</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">OnTickHandlerToken</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>onTick(({ tick }) => {
    output("log", 'tick', tick);
}, 16);</code></pre></div></div><h3 class="name has-anchor" id="~preprocess"><span class="type-signature">(inner) </span>preprocess<span class="signature">(callbackfn, priority)</span></h3><div class="description"><p>添加预处理函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">preprocessCallback</span></td><td class="description last"><p>要执行的函数</p></td></tr><tr><td class="name"><code>priority</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>优先级，值越大越先执行</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1902">line 1902</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>preprocess(() => {
    output("log", '这是一个预处理函数，会第一个执行');
}, 2);
preprocess(() => {
    output("log", '这是一个预处理函数，会第二个执行');
}, 1);
preprocess(() => {
    output("log", '优先级甚至可以是负数和小数！');
}, -114.514);</code></pre></div></div><h3 class="name has-anchor" id="~planningOnTickEvents"><span class="type-signature">(async, inner) </span>planningOnTickEvents<span class="signature">()</span></h3><div class="description"><p>规划onTick事件</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1909">line 1909</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~start"><span class="type-signature">(async, inner) </span>start<span class="signature">()</span></h3><div class="description"><p>启动地图（执行预处理函数）</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1928">line 1928</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~changeVelocity"><span class="type-signature">(inner) </span>changeVelocity<span class="signature">(velocity, time)</span></h3><div class="description"><p>转换速度单位<br>把<code>velocity</code>/<code>time</code>转换为<code>result</code>/<code>64ms</code><br>公式为：</p><pre class="prettyprint source lang-javascript"><code>result = velocity * time / 64
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>velocity</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>移动的速度，每<code>time</code>应该移动<code>velocity</code>格</p></td></tr><tr><td class="name"><code>time</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>速度的单位时间，单位：ms。默认为1s</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1971">line 1971</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Examples</strong><div class="rel"><pre class="prettyprint"><code>changeVelocity(1, 1000); // 1格/s</code></pre></div><div class="rel"><pre class="prettyprint"><code>changeVelocity(299792458, 1000); // 光速，299792458格/s</code></pre></div></div><h3 class="name has-anchor" id="~registerItem"><span class="type-signature">(inner) </span>registerItem<span class="signature">(item)</span><span class="type-signature"> &rarr; {boolean}</span></h3><div class="description"><p>注册一种物品<br>如果成功注册物品，返回<code>true</code>，否则返回<code>false</code></p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>item</code></td><td class="type"><span class="param-type">Item</span></td><td class="description last"><p>要注册的物品</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1981">line 1981</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">boolean</span></dd></dl></div><h3 class="name has-anchor" id="~startStorageQueue"><span class="type-signature">(inner) </span>startStorageQueue<span class="signature">()</span></h3><div class="description"><p>启动Storage Queue<br>只有启动了Storage Queue，<code>setData</code>和<code>removeData</code>的任务才会被处理</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1991">line 1991</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~stopStorageQueue"><span class="type-signature">(inner) </span>stopStorageQueue<span class="signature">()</span></h3><div class="description"><p>停止Storage Queue<br><code>setData</code>和<code>removeData</code>仍会将任务放到队列中，但不会再次处理，除非运行<code>startStorageQueue</code></p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line2027">line 2027</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~translationError"><span class="type-signature">(inner) </span>translationError<span class="signature">(message)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>翻译报错信息</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>message</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>报错内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line2039">line 2039</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>翻译后的信息</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h2 id="type-definitions" class="subsection-title has-anchor">Type Definitions</h2><h3 class="name has-anchor" id="~EventCallBack"><span class="type-signature"></span>EventCallBack<span class="signature">(data)</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>事件回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>传递的参数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line36">line 36</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~onTickEventCallBack"><span class="type-signature"></span>onTickEventCallBack<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>onTick事件回调函数</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line43">line 43</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~dialogCallBack"><span class="type-signature"></span>dialogCallBack<span class="signature">(entity, value)</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>对话框回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3Entity</span></td><td class="description last"><p>打开对话框的实体</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">Box3DialogResponse</span></td><td class="description last"><p>玩家选择/输入的结果</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line49">line 49</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~dataStorageUpdateCallBack"><span class="type-signature"></span>dataStorageUpdateCallBack<span class="signature">(prevValue)</span><span class="type-signature"> &rarr; {JSONValue}</span></h3><div class="description"><p><code>DataStorage.update</code>的回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>prevValue</code></td><td class="type"><span class="param-type">ReturnValue</span></td><td class="description last"><p>更改前的数据</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line57">line 57</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">JSONValue</span></dd></dl></div><h3 class="name has-anchor" id="~preprocessCallback"><span class="type-signature"></span>preprocessCallback<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>预处理函数回调函数</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line72">line 72</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~ItemSelectorString">ItemSelectorString</h3><div class="description"><p>用于选择/测试物品用的选择器<br>可以一次使用多个选择器，使用<code>,</code>分隔多个选择器，只需满足任意一个选择器<br>前缀为<code>#</code>，则检测<code>id</code>是否满足<br>前缀为<code>.</code>，则检测<code>tag</code>是否满足<br>前缀为<code>!</code>，则该选择器结果取反<br>添加前缀<code>&amp;</code>，代表该选择器必须满足（必须是第一个字符）<br>如果为<code>null</code>，则检测物品是否为<code>null</code>；前缀为<code>!</code>时，返回所有非<code>null</code>物品<br>选择器前后不能有其他字符<br><code>id</code>的优先级比<code>tag</code>高<br>所有非法字符将会被忽略</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line86">line 86</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~thingStorageForEachCallback"><span class="type-signature"></span>thingStorageForEachCallback<span class="signature">(thing, index, array)</span></h3><div class="description"><p><code>ThingStorage.forEach</code>回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>thing</code></td><td class="type"><span class="param-type">Thing</span></td><td class="description last"><p>物品</p></td></tr><tr><td class="name"><code>index</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>编号</p></td></tr><tr><td class="name"><code>array</code></td><td class="type"><span class="param-type">Array.&lt;Thing></span></td><td class="description last"><p>原数组</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line100">line 100</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~Output">Output</h3><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>类型</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>内容</p></td></tr><tr><td class="name"><code>location</code></td><td class="type"><span class="param-type">Array.&lt;any></span></td><td class="description last"><p>代码执行位置</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line108">line 108</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~ThingString">ThingString</h3><div class="description"><p>物品（<code>Thing</code>）转换为<code>string</code>的结果<br>格式为：</p><pre class="prettyprint source lang-text"><code>i[id](|n[name])|s[stackSize]|d[data]
</code></pre><p>例如：<br>itest1|n测试物品1|s114514|d{}<br>itest2|s1919810|d{hello: 'world!'}</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line115">line 115</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~StorageTask">StorageTask</h3><div class="description"><p>Storage任务<br>用于Storage Queue</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">"set"</span> |<wbr> <span class="param-type">"remove"</span></td><td class="description last"><p>任务类型</p></td></tr><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>数据储存空间名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>数据键</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>数据值</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line127">line 127</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~ThingDialogCallback"><span class="type-signature"></span>ThingDialogCallback<span class="signature">(thing)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>物品对话框正文内容</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>thing</code></td><td class="type"><span class="param-type">Thing</span></td><td class="description last"><p>物品</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line137">line 137</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>对话框正文内容</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="~EventCallBack"><span class="type-signature"></span>EventCallBack<span class="signature">(data)</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>事件回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>传递的参数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line36">line 36</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~onTickEventCallBack"><span class="type-signature"></span>onTickEventCallBack<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>onTick事件回调函数</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line43">line 43</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~dialogCallBack"><span class="type-signature"></span>dialogCallBack<span class="signature">(entity, value)</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>对话框回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3Entity</span></td><td class="description last"><p>打开对话框的实体</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">Box3DialogResponse</span></td><td class="description last"><p>玩家选择/输入的结果</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line49">line 49</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~dataStorageUpdateCallBack"><span class="type-signature"></span>dataStorageUpdateCallBack<span class="signature">(prevValue)</span><span class="type-signature"> &rarr; {JSONValue}</span></h3><div class="description"><p><code>DataStorage.update</code>的回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>prevValue</code></td><td class="type"><span class="param-type">ReturnValue</span></td><td class="description last"><p>更改前的数据</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line57">line 57</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">JSONValue</span></dd></dl></div><h3 class="name has-anchor" id="~preprocessCallback"><span class="type-signature"></span>preprocessCallback<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>预处理函数回调函数</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line72">line 72</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~ItemSelectorString">ItemSelectorString</h3><div class="description"><p>用于选择/测试物品用的选择器<br>可以一次使用多个选择器，使用<code>,</code>分隔多个选择器，只需满足任意一个选择器<br>前缀为<code>#</code>，则检测<code>id</code>是否满足<br>前缀为<code>.</code>，则检测<code>tag</code>是否满足<br>前缀为<code>!</code>，则该选择器结果取反<br>添加前缀<code>&amp;</code>，代表该选择器必须满足（必须是第一个字符）<br>如果为<code>null</code>，则检测物品是否为<code>null</code>；前缀为<code>!</code>时，返回所有非<code>null</code>物品<br>选择器前后不能有其他字符<br><code>id</code>的优先级比<code>tag</code>高<br>所有非法字符将会被忽略</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line86">line 86</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~thingStorageForEachCallback"><span class="type-signature"></span>thingStorageForEachCallback<span class="signature">(thing, index, array)</span></h3><div class="description"><p><code>ThingStorage.forEach</code>回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>thing</code></td><td class="type"><span class="param-type">Thing</span></td><td class="description last"><p>物品</p></td></tr><tr><td class="name"><code>index</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>编号</p></td></tr><tr><td class="name"><code>array</code></td><td class="type"><span class="param-type">Array.&lt;Thing></span></td><td class="description last"><p>原数组</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line100">line 100</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~Output">Output</h3><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>类型</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>内容</p></td></tr><tr><td class="name"><code>location</code></td><td class="type"><span class="param-type">Array.&lt;any></span></td><td class="description last"><p>代码执行位置</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line108">line 108</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~ThingString">ThingString</h3><div class="description"><p>物品（<code>Thing</code>）转换为<code>string</code>的结果<br>格式为：</p><pre class="prettyprint source lang-text"><code>i[id](|n[name])|s[stackSize]|d[data]
</code></pre><p>例如：<br>itest1|n测试物品1|s114514|d{}<br>itest2|s1919810|d{hello: 'world!'}</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line115">line 115</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~StorageTask">StorageTask</h3><div class="description"><p>Storage任务<br>用于Storage Queue</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">"set"</span> |<wbr> <span class="param-type">"remove"</span></td><td class="description last"><p>任务类型</p></td></tr><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>数据储存空间名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>数据键</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>数据值</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line127">line 127</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~ThingDialogCallback"><span class="type-signature"></span>ThingDialogCallback<span class="signature">(thing)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>物品对话框正文内容</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>thing</code></td><td class="type"><span class="param-type">Thing</span></td><td class="description last"><p>物品</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line137">line 137</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>对话框正文内容</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div></article></section><section><header></header><article><div class="container-overview"><div class="description"><p>EasyBox3Lib库<br>一个适用于大部分地图的通用代码库</p></div><dl class="details"><div class="details-item-container"><dt class="tag-version bold">Version</dt><dd class="tag-version"><ul><li>0.1.0</li></ul></dd></div><div class="details-item-container"><dt class="tag-author bold">Author</dt><dd class="tag-author"><ul><li>qndm Nomen</li></ul></dd></div><div class="details-item-container"><dt class="tag-license bold">License</dt><dd class="tag-license"><ul><li>MIT</li></ul></dd></div><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1">line 1</a></li></ul></dd></div></dl><dl class="details"><div class="details-item-container"><dt class="tag-version bold">Version</dt><dd class="tag-version"><ul><li>0.1.0</li></ul></dd></div><div class="details-item-container"><dt class="tag-author bold">Author</dt><dd class="tag-author"><ul><li>qndm Nomen</li></ul></dd></div><div class="details-item-container"><dt class="tag-license bold">License</dt><dd class="tag-license"><ul><li>MIT</li></ul></dd></div><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1">line 1</a></li></ul></dd></div></dl></div><h2 id="classes" class="subsection-title has-anchor">Classes</h2><dl><dt><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Menu.html">Menu</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Pages.html">Pages</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Item.html">Item</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Thing.html">Thing</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Menu.html">Menu</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Pages.html">Pages</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Item.html">Item</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-Thing.html">Thing</a></dt><dd></dd><dt><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></dt><dd></dd></dl><h2 id="members" class="subsection-title has-anchor">Members</h2><h3 class="name has-anchor" id="~CONFIG"><span class="type-signature">(inner, constant) </span>CONFIG<span class="type-signature"></span></h3><div class="description"><p>配置文件</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line12">line 12</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~gameLoops"><span class="type-signature">(inner) </span>gameLoops<span class="type-signature"> :Map.&lt;string, {statu: ("running"|"stop"|"awaiting_deletion"|"awaiting_stop"), init: EventCallBack, times: number}></span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map.&lt;string, {statu: ("running"|"stop"|"awaiting_deletion"|"awaiting_stop"), init: EventCallBack, times: number}></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line210">line 210</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~started"><span class="type-signature">(inner) </span>started<span class="type-signature"></span></h3><div class="description"><p>地图是否完全启动（预处理函数执行完成）@type {boolean}</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line247">line 247</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~itemRegistry"><span class="type-signature">(inner) </span>itemRegistry<span class="type-signature"></span></h3><div class="description"><p>物品注册表 @private @type {Map&lt;string, Item&gt;}</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line249">line 249</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~storageQueue"><span class="type-signature">(inner) </span>storageQueue<span class="type-signature"> :Map.&lt;string, StorageTask></span></h3><div class="description"><p>Storage Queue - Storage任务队列 队列只会在<code>start</code>方法调用时才会开始，或者手动调用<code>startStorageQueue</code>函数</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map.&lt;string, StorageTask></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line255">line 255</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~storageQueueStarted"><span class="type-signature">(inner) </span>storageQueueStarted<span class="type-signature"> :boolean</span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">boolean</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line257">line 257</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~CONFIG"><span class="type-signature">(inner, constant) </span>CONFIG<span class="type-signature"></span></h3><div class="description"><p>配置文件</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line12">line 12</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~gameLoops"><span class="type-signature">(inner) </span>gameLoops<span class="type-signature"> :Map.&lt;string, {statu: ("running"|"stop"|"awaiting_deletion"|"awaiting_stop"), init: EventCallBack, times: number}></span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map.&lt;string, {statu: ("running"|"stop"|"awaiting_deletion"|"awaiting_stop"), init: EventCallBack, times: number}></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line210">line 210</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~started"><span class="type-signature">(inner) </span>started<span class="type-signature"></span></h3><div class="description"><p>地图是否完全启动（预处理函数执行完成）@type {boolean}</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line247">line 247</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~itemRegistry"><span class="type-signature">(inner) </span>itemRegistry<span class="type-signature"></span></h3><div class="description"><p>物品注册表 @private @type {Map&lt;string, Item&gt;}</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line249">line 249</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~storageQueue"><span class="type-signature">(inner) </span>storageQueue<span class="type-signature"> :Map.&lt;string, StorageTask></span></h3><div class="description"><p>Storage Queue - Storage任务队列 队列只会在<code>start</code>方法调用时才会开始，或者手动调用<code>startStorageQueue</code>函数</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">Map.&lt;string, StorageTask></span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line255">line 255</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~storageQueueStarted"><span class="type-signature">(inner) </span>storageQueueStarted<span class="type-signature"> :boolean</span></h3><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">boolean</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line257">line 257</a></li></ul></dd></div></dl><h2 id="methods" class="subsection-title has-anchor">Methods</h2><h3 class="name has-anchor" id="~nullc"><span class="type-signature">(inner) </span>nullc<span class="signature">(a, b)</span><span class="type-signature"> &rarr; {*}</span></h3><div class="description"><p>空值合并</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>a</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"></td></tr><tr><td class="name"><code>b</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line31">line 31</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">*</span></dd></dl></div><h3 class="name has-anchor" id="~copyObject"><span class="type-signature">(inner) </span>copyObject<span class="signature">(obj)</span><span class="type-signature"> &rarr; {any}</span></h3><div class="description"><p>复制一个<code>object</code></p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>obj</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>要复制的<code>object</code></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1272">line 1272</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">any</span></dd></dl></div><h3 class="name has-anchor" id="~getEntity"><span class="type-signature">(inner) </span>getEntity<span class="signature">(id)</span><span class="type-signature"> &rarr; {Box3Entity}</span></h3><div class="description"><p>使用实体ID获取一个实体</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体ID</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1286">line 1286</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3Entity</span></dd></dl></div><h3 class="name has-anchor" id="~getEntities"><span class="type-signature">(inner) </span>getEntities<span class="signature">(tag)</span><span class="type-signature"> &rarr; {Array.&lt;Box3Entity>}</span></h3><div class="description"><p>使用实体标签获取一组实体</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>tag</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体标签</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1296">line 1296</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array.&lt;Box3Entity></span></dd></dl></div><h3 class="name has-anchor" id="~getPlayer"><span class="type-signature">(inner) </span>getPlayer<span class="signature">(value, key)</span><span class="type-signature"> &rarr; {Box3PlayerEntity|undefined}</span></h3><div class="description"><p>通过玩家的昵称/BoxID/userKey找到一个玩家<br>如果没有找到，返回<code>undefined</code><br>也可以在key参数中填入其他的东西，但不建议，因为可能有多个玩家满足该条件<br>判断方法：</p><pre class="prettyprint source lang-javascript"><code>entity.player[key] == value
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">*</span></td><td class="default"></td><td class="description last"><p>见上</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="default">name</td><td class="description last"><p>见上，一般填入<code>name</code>、<code>boxid</code>、<code>userKey</code>，默认为<code>name</code></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1313">line 1313</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3PlayerEntity</span> |<wbr> <span class="param-type">undefined</span></dd></dl></div><h3 class="name has-anchor" id="~getTheCodeExecutionLocation"><span class="type-signature">(inner) </span>getTheCodeExecutionLocation<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h3><div class="description"><p>获取当前代码的执行位置</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1323">line 1323</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Object</span></dd></dl></div><h3 class="name has-anchor" id="~output"><span class="type-signature">(inner) </span>output<span class="signature">(type, &hellip;data)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>输出一段日志，并记录到日志文件中</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">'log'</span> |<wbr> <span class="param-type">'warn'</span> |<wbr> <span class="param-type">'error'</span></td><td class="attributes"></td><td class="description last"><p>输出类型</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;repeatable><br></td><td class="description last"><p>要输出的内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1336">line 1336</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="~throwError"><span class="type-signature">(inner) </span>throwError<span class="signature">(&hellip;data)</span></h3><div class="description"><p>抛出错误</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;repeatable><br></td><td class="description last"><p>错误内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1357">line 1357</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~isAdmin"><span class="type-signature">(inner) </span>isAdmin<span class="signature">(entity)</span><span class="type-signature"> &rarr; {boolean}</span></h3><div class="description"><p>通过管理员列表，判断一个玩家是不是管理员<br>注意：对于在运行过程中添加的管理员（即<code>entity.player.isAdmin</code>为<code>true</code>但管理员列表中没有该玩家的<code>userKey</code>，返回<code>false</code><br>对于这种情况，应该使用：</p><pre class="prettyprint source lang-javascript"><code>entity.player.isAdmin
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要判断的实体</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1381">line 1381</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">boolean</span></dd></dl></div><h3 class="name has-anchor" id="~setAdminStatus"><span class="type-signature">(inner) </span>setAdminStatus<span class="signature">(entity, type)</span></h3><div class="description"><p>设置一个玩家是否是管理员</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要设置的玩家</p></td></tr><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>是否设置为管理员</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1389">line 1389</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~resizePlayer"><span class="type-signature">(inner) </span>resizePlayer<span class="signature">(entity, size)</span></h3><div class="description"><p>缩放一个玩家，包括玩家的移动速度&amp;跳跃高度</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要缩放的玩家</p></td></tr><tr><td class="name"><code>size</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>缩放尺寸</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1398">line 1398</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~createEntity"><span class="type-signature">(inner) </span>createEntity<span class="signature">(mesh, position, collides, gravity, meshScale, meshOrientation)</span><span class="type-signature"> &rarr; {Box3Entity|null}</span></h3><div class="description"><p>简单创建一个实体（其实也没简单到哪去）</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>mesh</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体外形</p></td></tr><tr><td class="name"><code>position</code></td><td class="type"><span class="param-type">Box3Vector3</span></td><td class="description last"><p>实体位置</p></td></tr><tr><td class="name"><code>collides</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>实体是否可碰撞</p></td></tr><tr><td class="name"><code>gravity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>实体是否会下落</p></td></tr><tr><td class="name"><code>meshScale</code></td><td class="type"><span class="param-type">Box3Vector3</span></td><td class="description last"><p>实体的缩放比例</p></td></tr><tr><td class="name"><code>meshOrientation</code></td><td class="type"><span class="param-type">Box3Quaternion</span></td><td class="description last"><p>实体的旋转角度</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1423">line 1423</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3Entity</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~textDialog"><span class="type-signature">(async, inner) </span>textDialog<span class="signature">(entity, title, content, hasArrow, otherOptions)</span><span class="type-signature"> &rarr; {'success'|number|null}</span></h3><div class="description"><p>弹出一个/若干个文本对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">Array.&lt;string></span></td><td class="description last"><p>对话框的正文，也可以输入一个列表来实现多个对话框依次弹出（相当于一个低配版的<code>Pages</code>）</p></td></tr><tr><td class="name"><code>hasArrow</code></td><td class="type"><span class="param-type">'auto'</span> |<wbr> <span class="param-type">boolean</span></td><td class="description last"><p>是否显示箭头提示，<code>auto</code>表示自动</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1453">line 1453</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>如果完成了所有对话，则返回<code>success</code>（只有一个对话框）或者完成对话框的数量（有多个对话框）；否则返回<code>null</code>（只有一个对话框）</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">'success'</span> |<wbr> <span class="param-type">number</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~inputDialog"><span class="type-signature">(async, inner) </span>inputDialog<span class="signature">(entity, title, content, confirmText, placeholder, otherOptions)</span><span class="type-signature"> &rarr; {string|null}</span></h3><div class="description"><p>弹出一个输入对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的正文</p></td></tr><tr><td class="name"><code>confirmText</code></td><td class="type"><span class="param-type">undefined</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>可选，确认按钮文字</p></td></tr><tr><td class="name"><code>placeholder</code></td><td class="type"><span class="param-type">undefined</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>可选，输入框提示文字</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1494">line 1494</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>输入框填写的内容字符串</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~selectDialog"><span class="type-signature">(async, inner) </span>selectDialog<span class="signature">(entity, title, content, options, otherOptions)</span><span class="type-signature"> &rarr; {Box3DialogSelectResponse}</span></h3><div class="description"><p>弹出一个选项对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的正文</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>选项列表</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1517">line 1517</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>玩家选择的选项</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3DialogSelectResponse</span></dd></dl></div><h3 class="name has-anchor" id="~shuffleTheList"><span class="type-signature">(inner) </span>shuffleTheList<span class="signature">(oldList)</span><span class="type-signature"> &rarr; {Array.&lt;any>}</span></h3><div class="description"><p>打乱一个列表</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>oldList</code></td><td class="type"><span class="param-type">Array.&lt;any></span></td><td class="description last"><p>要打乱的列表</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1539">line 1539</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array.&lt;any></span></dd></dl></div><h3 class="name has-anchor" id="~random"><span class="type-signature">(inner) </span>random<span class="signature">(min, max, integer)</span><span class="type-signature"> &rarr; {number}</span></h3><div class="description"><p>随机生成一个数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>min</code></td><td class="type"><span class="param-type">number</span></td><td class="default">0</td><td class="description last"><p>生成范围的最小值</p></td></tr><tr><td class="name"><code>max</code></td><td class="type"><span class="param-type">number</span></td><td class="default">1</td><td class="description last"><p>生成范围的最大值</p></td></tr><tr><td class="name"><code>integer</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>是否生成一个整数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1554">line 1554</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">number</span></dd></dl></div><h3 class="name has-anchor" id="~toChineseDate"><span class="type-signature">(inner) </span>toChineseDate<span class="signature">(date)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>将Unix时间戳转换为中文日期</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>date</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>Unix时间戳</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1568">line 1568</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>toChineseDate(Date.now())</code></pre></div></div><h3 class="name has-anchor" id="~executeSQLCode"><span class="type-signature">(async, inner) </span>executeSQLCode<span class="signature">(code)</span><span class="type-signature"> &rarr; {any}</span></h3><div class="description"><p>执行一段SQL命令</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>code</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1579">line 1579</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">any</span></dd></dl></div><h3 class="name has-anchor" id="~tryExecuteSQL"><span class="type-signature">(async, inner) </span>tryExecuteSQL<span class="signature">(func, msg)</span></h3><div class="description"><p>尝试执行SQL代码</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>func</code></td><td class="type"><span class="param-type">function</span></td><td class="description last"><p>要执行的代码</p></td></tr><tr><td class="name"><code>msg</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>当代码执行失败时，输出的信息</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1609">line 1609</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~getDataStorage"><span class="type-signature">(async, inner) </span>getDataStorage<span class="signature">(key)</span><span class="type-signature"> &rarr; {DataStorage}</span></h3><div class="description"><p>连接指定数据存储空间，如果不存在则创建一个新的空间。</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称，长度不超过50个字符</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1630">line 1630</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">DataStorage</span></dd></dl></div><h3 class="name has-anchor" id="~getDataStorageInCache"><span class="type-signature">(inner) </span>getDataStorageInCache<span class="signature">(storageKey)</span><span class="type-signature"> &rarr; {DataStorage}</span></h3><div class="description"><p>在缓存中直接获取指定数据存储空间<br>比<code>getDataStorage</code>更快，但不能创建数据存储空间</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定数据存储空间名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1650">line 1650</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">DataStorage</span></dd></dl></div><h3 class="name has-anchor" id="~setData"><span class="type-signature">(async, inner) </span>setData<span class="signature">(storageKey, key, value)</span></h3><div class="description"><p>设置一个键值对<br>与<code>DataStorage.set</code>方法不同，该方法调用后不会立即写入数据，而是移动到Storage Queue中，所以不是异步函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>需要设置的键</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>需要设置的值</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1663">line 1663</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~getData"><span class="type-signature">(async, inner) </span>getData<span class="signature">(storageKey, key)</span><span class="type-signature"> &rarr; {ReturnValue}</span></h3><div class="description"><p>查找一个键值对</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定的键</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1680">line 1680</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">ReturnValue</span></dd></dl></div><h3 class="name has-anchor" id="~listData"><span class="type-signature">(async, inner) </span>listData<span class="signature">(storageKey, options)</span><span class="type-signature"> &rarr; {QueryList}</span></h3><div class="description"><p>批量获取键值对<br>注意：该方法不会创建缓存和读取缓存，所以该方法比<code>get</code>更慢</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">ListPageOptions</span></td><td class="description last"><p>批量获取键值对的配置项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1696">line 1696</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">QueryList</span></dd></dl></div><h3 class="name has-anchor" id="~removeData"><span class="type-signature">(inner) </span>removeData<span class="signature">(storageKey, key)</span></h3><div class="description"><p>删除表中的键值对 与<code>DataStorage.remove</code>方法不同，该方法调用后不会立即写入数据，而是移动到Storage Queue中，所以不是异步函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定的键</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1706">line 1706</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~dropDataStorage"><span class="type-signature">(async, inner) </span>dropDataStorage<span class="signature">(storageKey)</span></h3><div class="description"><p>删除指定数据存储空间<br>警告：删除之后无法恢复，请谨慎使用！！！</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定数据存储空间</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1718">line 1718</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~createGameLoop"><span class="type-signature">(inner) </span>createGameLoop<span class="signature">(name, callbackfn)</span></h3><div class="description"><p>创建游戏循环<br>需要手动运行</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">EventCallBack</span></td><td class="description last"><p>要执行的函数。提供一个参数：time，代表循环执行的次数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1727">line 1727</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~startGameLoop"><span class="type-signature">(async, inner) </span>startGameLoop<span class="signature">(name, callbackfn)</span></h3><div class="description"><p>创建并运行游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">EventCallBack</span> |<wbr> <span class="param-type">undefined</span></td><td class="description last"><p>要执行的函数。提供一个参数：time，代表循环执行的次数。如果为空且循环存在，则继续循环</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1740">line 1740</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~stopGameLoop"><span class="type-signature">(inner) </span>stopGameLoop<span class="signature">(name)</span></h3><div class="description"><p>停止游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1753">line 1753</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~runGameLoop"><span class="type-signature">(async, inner) </span>runGameLoop<span class="signature">(name)</span></h3><div class="description"><p>运行游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1761">line 1761</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~deleteGameLoop"><span class="type-signature">(inner) </span>deleteGameLoop<span class="signature">(name)</span></h3><div class="description"><p>删除游戏循环，之后不能再对该循环进行操作<br>如果循环正在运行中，那么循环结束后才会删除</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1790">line 1790</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~registerEvent"><span class="type-signature">(inner) </span>registerEvent<span class="signature">(name)</span></h3><div class="description"><p>注册一个事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1807">line 1807</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');</code></pre></div></div><h3 class="name has-anchor" id="~addEventHandler"><span class="type-signature">(inner) </span>addEventHandler<span class="signature">(eventName, handler)</span></h3><div class="description"><p>添加事件监听器</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr><tr><td class="name"><code>handler</code></td><td class="type"><span class="param-type">EventCallBack</span></td><td class="description last"><p>事件监听器</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1825">line 1825</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', () => {
    output("log", '触发事件');
});</code></pre></div></div><h3 class="name has-anchor" id="~triggerEvent"><span class="type-signature">(async, inner) </span>triggerEvent<span class="signature">(eventName, data)</span></h3><div class="description"><p>触发一个事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>监听器使用的参数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1854">line 1854</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Examples</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', () => {
    output("log", '触发事件');
});
triggerEvent('testEvent');</code></pre></div><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', ({ data }) => {
    output("log", '触发事件 data =', data);
});
triggerEvent('testEvent', { data: 114514 });</code></pre></div></div><h3 class="name has-anchor" id="~removeEvent"><span class="type-signature">(inner) </span>removeEvent<span class="signature">(eventName)</span></h3><div class="description"><p>移除一个事件，之后不能监听该事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1863">line 1863</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~onTick"><span class="type-signature">(inner) </span>onTick<span class="signature">(handler, tps, enforcement, automaticTps)</span><span class="type-signature"> &rarr; {OnTickHandlerToken}</span></h3><div class="description"><p>注册一个<code>onTick</code>事件，类似于<code>Box3</code>中的<code>onTick</code>事件，但有一些优化<br>需要在预处理时注册</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>handler</code></td><td class="type"><span class="param-type">onTickEventCallBack</span></td><td class="default"></td><td class="description last"><p>要执行的函数</p></td></tr><tr><td class="name"><code>tps</code></td><td class="type"><span class="param-type">number</span></td><td class="default"></td><td class="description last"><p>每个循环的执行次数</p></td></tr><tr><td class="name"><code>enforcement</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>如果为false，则如果上一次未执行完，则不会执行</p></td></tr><tr><td class="name"><code>automaticTps</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>是否自动调整tps</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1882">line 1882</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">OnTickHandlerToken</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>onTick(({ tick }) => {
    output("log", 'tick', tick);
}, 16);</code></pre></div></div><h3 class="name has-anchor" id="~preprocess"><span class="type-signature">(inner) </span>preprocess<span class="signature">(callbackfn, priority)</span></h3><div class="description"><p>添加预处理函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">preprocessCallback</span></td><td class="description last"><p>要执行的函数</p></td></tr><tr><td class="name"><code>priority</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>优先级，值越大越先执行</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1902">line 1902</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>preprocess(() => {
    output("log", '这是一个预处理函数，会第一个执行');
}, 2);
preprocess(() => {
    output("log", '这是一个预处理函数，会第二个执行');
}, 1);
preprocess(() => {
    output("log", '优先级甚至可以是负数和小数！');
}, -114.514);</code></pre></div></div><h3 class="name has-anchor" id="~planningOnTickEvents"><span class="type-signature">(async, inner) </span>planningOnTickEvents<span class="signature">()</span></h3><div class="description"><p>规划onTick事件</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1909">line 1909</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~start"><span class="type-signature">(async, inner) </span>start<span class="signature">()</span></h3><div class="description"><p>启动地图（执行预处理函数）</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1928">line 1928</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~changeVelocity"><span class="type-signature">(inner) </span>changeVelocity<span class="signature">(velocity, time)</span></h3><div class="description"><p>转换速度单位<br>把<code>velocity</code>/<code>time</code>转换为<code>result</code>/<code>64ms</code><br>公式为：</p><pre class="prettyprint source lang-javascript"><code>result = velocity * time / 64
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>velocity</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>移动的速度，每<code>time</code>应该移动<code>velocity</code>格</p></td></tr><tr><td class="name"><code>time</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>速度的单位时间，单位：ms。默认为1s</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1971">line 1971</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Examples</strong><div class="rel"><pre class="prettyprint"><code>changeVelocity(1, 1000); // 1格/s</code></pre></div><div class="rel"><pre class="prettyprint"><code>changeVelocity(299792458, 1000); // 光速，299792458格/s</code></pre></div></div><h3 class="name has-anchor" id="~registerItem"><span class="type-signature">(inner) </span>registerItem<span class="signature">(item)</span><span class="type-signature"> &rarr; {boolean}</span></h3><div class="description"><p>注册一种物品<br>如果成功注册物品，返回<code>true</code>，否则返回<code>false</code></p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>item</code></td><td class="type"><span class="param-type">Item</span></td><td class="description last"><p>要注册的物品</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1981">line 1981</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">boolean</span></dd></dl></div><h3 class="name has-anchor" id="~startStorageQueue"><span class="type-signature">(inner) </span>startStorageQueue<span class="signature">()</span></h3><div class="description"><p>启动Storage Queue<br>只有启动了Storage Queue，<code>setData</code>和<code>removeData</code>的任务才会被处理</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1991">line 1991</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~stopStorageQueue"><span class="type-signature">(inner) </span>stopStorageQueue<span class="signature">()</span></h3><div class="description"><p>停止Storage Queue<br><code>setData</code>和<code>removeData</code>仍会将任务放到队列中，但不会再次处理，除非运行<code>startStorageQueue</code></p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line2027">line 2027</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~translationError"><span class="type-signature">(inner) </span>translationError<span class="signature">(message)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>翻译报错信息</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>message</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>报错内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line2039">line 2039</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>翻译后的信息</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="~nullc"><span class="type-signature">(inner) </span>nullc<span class="signature">(a, b)</span><span class="type-signature"> &rarr; {*}</span></h3><div class="description"><p>空值合并</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>a</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"></td></tr><tr><td class="name"><code>b</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line31">line 31</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">*</span></dd></dl></div><h3 class="name has-anchor" id="~copyObject"><span class="type-signature">(inner) </span>copyObject<span class="signature">(obj)</span><span class="type-signature"> &rarr; {any}</span></h3><div class="description"><p>复制一个<code>object</code></p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>obj</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>要复制的<code>object</code></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1272">line 1272</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">any</span></dd></dl></div><h3 class="name has-anchor" id="~getEntity"><span class="type-signature">(inner) </span>getEntity<span class="signature">(id)</span><span class="type-signature"> &rarr; {Box3Entity}</span></h3><div class="description"><p>使用实体ID获取一个实体</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体ID</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1286">line 1286</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3Entity</span></dd></dl></div><h3 class="name has-anchor" id="~getEntities"><span class="type-signature">(inner) </span>getEntities<span class="signature">(tag)</span><span class="type-signature"> &rarr; {Array.&lt;Box3Entity>}</span></h3><div class="description"><p>使用实体标签获取一组实体</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>tag</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体标签</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1296">line 1296</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array.&lt;Box3Entity></span></dd></dl></div><h3 class="name has-anchor" id="~getPlayer"><span class="type-signature">(inner) </span>getPlayer<span class="signature">(value, key)</span><span class="type-signature"> &rarr; {Box3PlayerEntity|undefined}</span></h3><div class="description"><p>通过玩家的昵称/BoxID/userKey找到一个玩家<br>如果没有找到，返回<code>undefined</code><br>也可以在key参数中填入其他的东西，但不建议，因为可能有多个玩家满足该条件<br>判断方法：</p><pre class="prettyprint source lang-javascript"><code>entity.player[key] == value
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">*</span></td><td class="default"></td><td class="description last"><p>见上</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="default">name</td><td class="description last"><p>见上，一般填入<code>name</code>、<code>boxid</code>、<code>userKey</code>，默认为<code>name</code></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1313">line 1313</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3PlayerEntity</span> |<wbr> <span class="param-type">undefined</span></dd></dl></div><h3 class="name has-anchor" id="~getTheCodeExecutionLocation"><span class="type-signature">(inner) </span>getTheCodeExecutionLocation<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h3><div class="description"><p>获取当前代码的执行位置</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1323">line 1323</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Object</span></dd></dl></div><h3 class="name has-anchor" id="~output"><span class="type-signature">(inner) </span>output<span class="signature">(type, &hellip;data)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>输出一段日志，并记录到日志文件中</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">'log'</span> |<wbr> <span class="param-type">'warn'</span> |<wbr> <span class="param-type">'error'</span></td><td class="attributes"></td><td class="description last"><p>输出类型</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;repeatable><br></td><td class="description last"><p>要输出的内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1336">line 1336</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="~throwError"><span class="type-signature">(inner) </span>throwError<span class="signature">(&hellip;data)</span></h3><div class="description"><p>抛出错误</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;repeatable><br></td><td class="description last"><p>错误内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1357">line 1357</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~isAdmin"><span class="type-signature">(inner) </span>isAdmin<span class="signature">(entity)</span><span class="type-signature"> &rarr; {boolean}</span></h3><div class="description"><p>通过管理员列表，判断一个玩家是不是管理员<br>注意：对于在运行过程中添加的管理员（即<code>entity.player.isAdmin</code>为<code>true</code>但管理员列表中没有该玩家的<code>userKey</code>，返回<code>false</code><br>对于这种情况，应该使用：</p><pre class="prettyprint source lang-javascript"><code>entity.player.isAdmin
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要判断的实体</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1381">line 1381</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">boolean</span></dd></dl></div><h3 class="name has-anchor" id="~setAdminStatus"><span class="type-signature">(inner) </span>setAdminStatus<span class="signature">(entity, type)</span></h3><div class="description"><p>设置一个玩家是否是管理员</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要设置的玩家</p></td></tr><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>是否设置为管理员</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1389">line 1389</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~resizePlayer"><span class="type-signature">(inner) </span>resizePlayer<span class="signature">(entity, size)</span></h3><div class="description"><p>缩放一个玩家，包括玩家的移动速度&amp;跳跃高度</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要缩放的玩家</p></td></tr><tr><td class="name"><code>size</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>缩放尺寸</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1398">line 1398</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~createEntity"><span class="type-signature">(inner) </span>createEntity<span class="signature">(mesh, position, collides, gravity, meshScale, meshOrientation)</span><span class="type-signature"> &rarr; {Box3Entity|null}</span></h3><div class="description"><p>简单创建一个实体（其实也没简单到哪去）</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>mesh</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>实体外形</p></td></tr><tr><td class="name"><code>position</code></td><td class="type"><span class="param-type">Box3Vector3</span></td><td class="description last"><p>实体位置</p></td></tr><tr><td class="name"><code>collides</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>实体是否可碰撞</p></td></tr><tr><td class="name"><code>gravity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>实体是否会下落</p></td></tr><tr><td class="name"><code>meshScale</code></td><td class="type"><span class="param-type">Box3Vector3</span></td><td class="description last"><p>实体的缩放比例</p></td></tr><tr><td class="name"><code>meshOrientation</code></td><td class="type"><span class="param-type">Box3Quaternion</span></td><td class="description last"><p>实体的旋转角度</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1423">line 1423</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3Entity</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~textDialog"><span class="type-signature">(async, inner) </span>textDialog<span class="signature">(entity, title, content, hasArrow, otherOptions)</span><span class="type-signature"> &rarr; {'success'|number|null}</span></h3><div class="description"><p>弹出一个/若干个文本对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">Array.&lt;string></span></td><td class="description last"><p>对话框的正文，也可以输入一个列表来实现多个对话框依次弹出（相当于一个低配版的<code>Pages</code>）</p></td></tr><tr><td class="name"><code>hasArrow</code></td><td class="type"><span class="param-type">'auto'</span> |<wbr> <span class="param-type">boolean</span></td><td class="description last"><p>是否显示箭头提示，<code>auto</code>表示自动</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1453">line 1453</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>如果完成了所有对话，则返回<code>success</code>（只有一个对话框）或者完成对话框的数量（有多个对话框）；否则返回<code>null</code>（只有一个对话框）</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">'success'</span> |<wbr> <span class="param-type">number</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~inputDialog"><span class="type-signature">(async, inner) </span>inputDialog<span class="signature">(entity, title, content, confirmText, placeholder, otherOptions)</span><span class="type-signature"> &rarr; {string|null}</span></h3><div class="description"><p>弹出一个输入对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的正文</p></td></tr><tr><td class="name"><code>confirmText</code></td><td class="type"><span class="param-type">undefined</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>可选，确认按钮文字</p></td></tr><tr><td class="name"><code>placeholder</code></td><td class="type"><span class="param-type">undefined</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>可选，输入框提示文字</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1494">line 1494</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>输入框填写的内容字符串</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span> |<wbr> <span class="param-type">null</span></dd></dl></div><h3 class="name has-anchor" id="~selectDialog"><span class="type-signature">(async, inner) </span>selectDialog<span class="signature">(entity, title, content, options, otherOptions)</span><span class="type-signature"> &rarr; {Box3DialogSelectResponse}</span></h3><div class="description"><p>弹出一个选项对话框</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3PlayerEntity</span></td><td class="description last"><p>要弹出对话框的玩家</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的标题</p></td></tr><tr><td class="name"><code>content</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>对话框的正文</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>选项列表</p></td></tr><tr><td class="name"><code>otherOptions</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>对话框的其他选项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1517">line 1517</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>玩家选择的选项</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Box3DialogSelectResponse</span></dd></dl></div><h3 class="name has-anchor" id="~shuffleTheList"><span class="type-signature">(inner) </span>shuffleTheList<span class="signature">(oldList)</span><span class="type-signature"> &rarr; {Array.&lt;any>}</span></h3><div class="description"><p>打乱一个列表</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>oldList</code></td><td class="type"><span class="param-type">Array.&lt;any></span></td><td class="description last"><p>要打乱的列表</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1539">line 1539</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array.&lt;any></span></dd></dl></div><h3 class="name has-anchor" id="~random"><span class="type-signature">(inner) </span>random<span class="signature">(min, max, integer)</span><span class="type-signature"> &rarr; {number}</span></h3><div class="description"><p>随机生成一个数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>min</code></td><td class="type"><span class="param-type">number</span></td><td class="default">0</td><td class="description last"><p>生成范围的最小值</p></td></tr><tr><td class="name"><code>max</code></td><td class="type"><span class="param-type">number</span></td><td class="default">1</td><td class="description last"><p>生成范围的最大值</p></td></tr><tr><td class="name"><code>integer</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>是否生成一个整数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1554">line 1554</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">number</span></dd></dl></div><h3 class="name has-anchor" id="~toChineseDate"><span class="type-signature">(inner) </span>toChineseDate<span class="signature">(date)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>将Unix时间戳转换为中文日期</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>date</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>Unix时间戳</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1568">line 1568</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>toChineseDate(Date.now())</code></pre></div></div><h3 class="name has-anchor" id="~executeSQLCode"><span class="type-signature">(async, inner) </span>executeSQLCode<span class="signature">(code)</span><span class="type-signature"> &rarr; {any}</span></h3><div class="description"><p>执行一段SQL命令</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>code</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1579">line 1579</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">any</span></dd></dl></div><h3 class="name has-anchor" id="~tryExecuteSQL"><span class="type-signature">(async, inner) </span>tryExecuteSQL<span class="signature">(func, msg)</span></h3><div class="description"><p>尝试执行SQL代码</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>func</code></td><td class="type"><span class="param-type">function</span></td><td class="description last"><p>要执行的代码</p></td></tr><tr><td class="name"><code>msg</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>当代码执行失败时，输出的信息</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1609">line 1609</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~getDataStorage"><span class="type-signature">(async, inner) </span>getDataStorage<span class="signature">(key)</span><span class="type-signature"> &rarr; {DataStorage}</span></h3><div class="description"><p>连接指定数据存储空间，如果不存在则创建一个新的空间。</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称，长度不超过50个字符</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1630">line 1630</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">DataStorage</span></dd></dl></div><h3 class="name has-anchor" id="~getDataStorageInCache"><span class="type-signature">(inner) </span>getDataStorageInCache<span class="signature">(storageKey)</span><span class="type-signature"> &rarr; {DataStorage}</span></h3><div class="description"><p>在缓存中直接获取指定数据存储空间<br>比<code>getDataStorage</code>更快，但不能创建数据存储空间</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定数据存储空间名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1650">line 1650</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">DataStorage</span></dd></dl></div><h3 class="name has-anchor" id="~setData"><span class="type-signature">(async, inner) </span>setData<span class="signature">(storageKey, key, value)</span></h3><div class="description"><p>设置一个键值对<br>与<code>DataStorage.set</code>方法不同，该方法调用后不会立即写入数据，而是移动到Storage Queue中，所以不是异步函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>需要设置的键</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>需要设置的值</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1663">line 1663</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~getData"><span class="type-signature">(async, inner) </span>getData<span class="signature">(storageKey, key)</span><span class="type-signature"> &rarr; {ReturnValue}</span></h3><div class="description"><p>查找一个键值对</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定的键</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1680">line 1680</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">ReturnValue</span></dd></dl></div><h3 class="name has-anchor" id="~listData"><span class="type-signature">(async, inner) </span>listData<span class="signature">(storageKey, options)</span><span class="type-signature"> &rarr; {QueryList}</span></h3><div class="description"><p>批量获取键值对<br>注意：该方法不会创建缓存和读取缓存，所以该方法比<code>get</code>更慢</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>options</code></td><td class="type"><span class="param-type">ListPageOptions</span></td><td class="description last"><p>批量获取键值对的配置项</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1696">line 1696</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">QueryList</span></dd></dl></div><h3 class="name has-anchor" id="~removeData"><span class="type-signature">(inner) </span>removeData<span class="signature">(storageKey, key)</span></h3><div class="description"><p>删除表中的键值对 与<code>DataStorage.remove</code>方法不同，该方法调用后不会立即写入数据，而是移动到Storage Queue中，所以不是异步函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定空间的名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定的键</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1706">line 1706</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~dropDataStorage"><span class="type-signature">(async, inner) </span>dropDataStorage<span class="signature">(storageKey)</span></h3><div class="description"><p>删除指定数据存储空间<br>警告：删除之后无法恢复，请谨慎使用！！！</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>指定数据存储空间</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1718">line 1718</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~createGameLoop"><span class="type-signature">(inner) </span>createGameLoop<span class="signature">(name, callbackfn)</span></h3><div class="description"><p>创建游戏循环<br>需要手动运行</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">EventCallBack</span></td><td class="description last"><p>要执行的函数。提供一个参数：time，代表循环执行的次数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1727">line 1727</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~startGameLoop"><span class="type-signature">(async, inner) </span>startGameLoop<span class="signature">(name, callbackfn)</span></h3><div class="description"><p>创建并运行游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">EventCallBack</span> |<wbr> <span class="param-type">undefined</span></td><td class="description last"><p>要执行的函数。提供一个参数：time，代表循环执行的次数。如果为空且循环存在，则继续循环</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1740">line 1740</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~stopGameLoop"><span class="type-signature">(inner) </span>stopGameLoop<span class="signature">(name)</span></h3><div class="description"><p>停止游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1753">line 1753</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~runGameLoop"><span class="type-signature">(async, inner) </span>runGameLoop<span class="signature">(name)</span></h3><div class="description"><p>运行游戏循环</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1761">line 1761</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~deleteGameLoop"><span class="type-signature">(inner) </span>deleteGameLoop<span class="signature">(name)</span></h3><div class="description"><p>删除游戏循环，之后不能再对该循环进行操作<br>如果循环正在运行中，那么循环结束后才会删除</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>循环名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1790">line 1790</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~registerEvent"><span class="type-signature">(inner) </span>registerEvent<span class="signature">(name)</span></h3><div class="description"><p>注册一个事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>name</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1807">line 1807</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');</code></pre></div></div><h3 class="name has-anchor" id="~addEventHandler"><span class="type-signature">(inner) </span>addEventHandler<span class="signature">(eventName, handler)</span></h3><div class="description"><p>添加事件监听器</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr><tr><td class="name"><code>handler</code></td><td class="type"><span class="param-type">EventCallBack</span></td><td class="description last"><p>事件监听器</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1825">line 1825</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', () => {
    output("log", '触发事件');
});</code></pre></div></div><h3 class="name has-anchor" id="~triggerEvent"><span class="type-signature">(async, inner) </span>triggerEvent<span class="signature">(eventName, data)</span></h3><div class="description"><p>触发一个事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>监听器使用的参数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1854">line 1854</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Examples</strong><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', () => {
    output("log", '触发事件');
});
triggerEvent('testEvent');</code></pre></div><div class="rel"><pre class="prettyprint"><code>registerEvent('testEvent');
addEventHandler('testEvent', ({ data }) => {
    output("log", '触发事件 data =', data);
});
triggerEvent('testEvent', { data: 114514 });</code></pre></div></div><h3 class="name has-anchor" id="~removeEvent"><span class="type-signature">(inner) </span>removeEvent<span class="signature">(eventName)</span></h3><div class="description"><p>移除一个事件，之后不能监听该事件</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>eventName</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>事件名称</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1863">line 1863</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~onTick"><span class="type-signature">(inner) </span>onTick<span class="signature">(handler, tps, enforcement, automaticTps)</span><span class="type-signature"> &rarr; {OnTickHandlerToken}</span></h3><div class="description"><p>注册一个<code>onTick</code>事件，类似于<code>Box3</code>中的<code>onTick</code>事件，但有一些优化<br>需要在预处理时注册</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>handler</code></td><td class="type"><span class="param-type">onTickEventCallBack</span></td><td class="default"></td><td class="description last"><p>要执行的函数</p></td></tr><tr><td class="name"><code>tps</code></td><td class="type"><span class="param-type">number</span></td><td class="default"></td><td class="description last"><p>每个循环的执行次数</p></td></tr><tr><td class="name"><code>enforcement</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>如果为false，则如果上一次未执行完，则不会执行</p></td></tr><tr><td class="name"><code>automaticTps</code></td><td class="type"><span class="param-type">boolean</span></td><td class="default">false</td><td class="description last"><p>是否自动调整tps</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1882">line 1882</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">OnTickHandlerToken</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>onTick(({ tick }) => {
    output("log", 'tick', tick);
}, 16);</code></pre></div></div><h3 class="name has-anchor" id="~preprocess"><span class="type-signature">(inner) </span>preprocess<span class="signature">(callbackfn, priority)</span></h3><div class="description"><p>添加预处理函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>callbackfn</code></td><td class="type"><span class="param-type">preprocessCallback</span></td><td class="description last"><p>要执行的函数</p></td></tr><tr><td class="name"><code>priority</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>优先级，值越大越先执行</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1902">line 1902</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>preprocess(() => {
    output("log", '这是一个预处理函数，会第一个执行');
}, 2);
preprocess(() => {
    output("log", '这是一个预处理函数，会第二个执行');
}, 1);
preprocess(() => {
    output("log", '优先级甚至可以是负数和小数！');
}, -114.514);</code></pre></div></div><h3 class="name has-anchor" id="~planningOnTickEvents"><span class="type-signature">(async, inner) </span>planningOnTickEvents<span class="signature">()</span></h3><div class="description"><p>规划onTick事件</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1909">line 1909</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~start"><span class="type-signature">(async, inner) </span>start<span class="signature">()</span></h3><div class="description"><p>启动地图（执行预处理函数）</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1928">line 1928</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~changeVelocity"><span class="type-signature">(inner) </span>changeVelocity<span class="signature">(velocity, time)</span></h3><div class="description"><p>转换速度单位<br>把<code>velocity</code>/<code>time</code>转换为<code>result</code>/<code>64ms</code><br>公式为：</p><pre class="prettyprint source lang-javascript"><code>result = velocity * time / 64
</code></pre></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>velocity</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>移动的速度，每<code>time</code>应该移动<code>velocity</code>格</p></td></tr><tr><td class="name"><code>time</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>速度的单位时间，单位：ms。默认为1s</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1971">line 1971</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Examples</strong><div class="rel"><pre class="prettyprint"><code>changeVelocity(1, 1000); // 1格/s</code></pre></div><div class="rel"><pre class="prettyprint"><code>changeVelocity(299792458, 1000); // 光速，299792458格/s</code></pre></div></div><h3 class="name has-anchor" id="~registerItem"><span class="type-signature">(inner) </span>registerItem<span class="signature">(item)</span><span class="type-signature"> &rarr; {boolean}</span></h3><div class="description"><p>注册一种物品<br>如果成功注册物品，返回<code>true</code>，否则返回<code>false</code></p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>item</code></td><td class="type"><span class="param-type">Item</span></td><td class="description last"><p>要注册的物品</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1981">line 1981</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">boolean</span></dd></dl></div><h3 class="name has-anchor" id="~startStorageQueue"><span class="type-signature">(inner) </span>startStorageQueue<span class="signature">()</span></h3><div class="description"><p>启动Storage Queue<br>只有启动了Storage Queue，<code>setData</code>和<code>removeData</code>的任务才会被处理</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line1991">line 1991</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~stopStorageQueue"><span class="type-signature">(inner) </span>stopStorageQueue<span class="signature">()</span></h3><div class="description"><p>停止Storage Queue<br><code>setData</code>和<code>removeData</code>仍会将任务放到队列中，但不会再次处理，除非运行<code>startStorageQueue</code></p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line2027">line 2027</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~translationError"><span class="type-signature">(inner) </span>translationError<span class="signature">(message)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>翻译报错信息</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>message</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>报错内容</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line2039">line 2039</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>翻译后的信息</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h2 id="type-definitions" class="subsection-title has-anchor">Type Definitions</h2><h3 class="name has-anchor" id="~EventCallBack"><span class="type-signature"></span>EventCallBack<span class="signature">(data)</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>事件回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>传递的参数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line36">line 36</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~onTickEventCallBack"><span class="type-signature"></span>onTickEventCallBack<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>onTick事件回调函数</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line43">line 43</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~dialogCallBack"><span class="type-signature"></span>dialogCallBack<span class="signature">(entity, value)</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>对话框回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3Entity</span></td><td class="description last"><p>打开对话框的实体</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">Box3DialogResponse</span></td><td class="description last"><p>玩家选择/输入的结果</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line49">line 49</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~dataStorageUpdateCallBack"><span class="type-signature"></span>dataStorageUpdateCallBack<span class="signature">(prevValue)</span><span class="type-signature"> &rarr; {JSONValue}</span></h3><div class="description"><p><code>DataStorage.update</code>的回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>prevValue</code></td><td class="type"><span class="param-type">ReturnValue</span></td><td class="description last"><p>更改前的数据</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line57">line 57</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">JSONValue</span></dd></dl></div><h3 class="name has-anchor" id="~preprocessCallback"><span class="type-signature"></span>preprocessCallback<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>预处理函数回调函数</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line72">line 72</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~ItemSelectorString">ItemSelectorString</h3><div class="description"><p>用于选择/测试物品用的选择器<br>可以一次使用多个选择器，使用<code>,</code>分隔多个选择器，只需满足任意一个选择器<br>前缀为<code>#</code>，则检测<code>id</code>是否满足<br>前缀为<code>.</code>，则检测<code>tag</code>是否满足<br>前缀为<code>!</code>，则该选择器结果取反<br>添加前缀<code>&amp;</code>，代表该选择器必须满足（必须是第一个字符）<br>如果为<code>null</code>，则检测物品是否为<code>null</code>；前缀为<code>!</code>时，返回所有非<code>null</code>物品<br>选择器前后不能有其他字符<br><code>id</code>的优先级比<code>tag</code>高<br>所有非法字符将会被忽略</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line86">line 86</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~thingStorageForEachCallback"><span class="type-signature"></span>thingStorageForEachCallback<span class="signature">(thing, index, array)</span></h3><div class="description"><p><code>ThingStorage.forEach</code>回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>thing</code></td><td class="type"><span class="param-type">Thing</span></td><td class="description last"><p>物品</p></td></tr><tr><td class="name"><code>index</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>编号</p></td></tr><tr><td class="name"><code>array</code></td><td class="type"><span class="param-type">Array.&lt;Thing></span></td><td class="description last"><p>原数组</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line100">line 100</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~Output">Output</h3><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>类型</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>内容</p></td></tr><tr><td class="name"><code>location</code></td><td class="type"><span class="param-type">Array.&lt;any></span></td><td class="description last"><p>代码执行位置</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line108">line 108</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~ThingString">ThingString</h3><div class="description"><p>物品（<code>Thing</code>）转换为<code>string</code>的结果<br>格式为：</p><pre class="prettyprint source lang-text"><code>i[id](|n[name])|s[stackSize]|d[data]
</code></pre><p>例如：<br>itest1|n测试物品1|s114514|d{}<br>itest2|s1919810|d{hello: 'world!'}</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line115">line 115</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~StorageTask">StorageTask</h3><div class="description"><p>Storage任务<br>用于Storage Queue</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">"set"</span> |<wbr> <span class="param-type">"remove"</span></td><td class="description last"><p>任务类型</p></td></tr><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>数据储存空间名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>数据键</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>数据值</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line127">line 127</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~ThingDialogCallback"><span class="type-signature"></span>ThingDialogCallback<span class="signature">(thing)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>物品对话框正文内容</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>thing</code></td><td class="type"><span class="param-type">Thing</span></td><td class="description last"><p>物品</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line137">line 137</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>对话框正文内容</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="~EventCallBack"><span class="type-signature"></span>EventCallBack<span class="signature">(data)</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>事件回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>传递的参数</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line36">line 36</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~onTickEventCallBack"><span class="type-signature"></span>onTickEventCallBack<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>onTick事件回调函数</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line43">line 43</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~dialogCallBack"><span class="type-signature"></span>dialogCallBack<span class="signature">(entity, value)</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>对话框回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>entity</code></td><td class="type"><span class="param-type">Box3Entity</span></td><td class="description last"><p>打开对话框的实体</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">Box3DialogResponse</span></td><td class="description last"><p>玩家选择/输入的结果</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line49">line 49</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~dataStorageUpdateCallBack"><span class="type-signature"></span>dataStorageUpdateCallBack<span class="signature">(prevValue)</span><span class="type-signature"> &rarr; {JSONValue}</span></h3><div class="description"><p><code>DataStorage.update</code>的回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>prevValue</code></td><td class="type"><span class="param-type">ReturnValue</span></td><td class="description last"><p>更改前的数据</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line57">line 57</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">JSONValue</span></dd></dl></div><h3 class="name has-anchor" id="~preprocessCallback"><span class="type-signature"></span>preprocessCallback<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h3><div class="description"><p>预处理函数回调函数</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line72">line 72</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">void</span></dd></dl></div><h3 class="name has-anchor" id="~ItemSelectorString">ItemSelectorString</h3><div class="description"><p>用于选择/测试物品用的选择器<br>可以一次使用多个选择器，使用<code>,</code>分隔多个选择器，只需满足任意一个选择器<br>前缀为<code>#</code>，则检测<code>id</code>是否满足<br>前缀为<code>.</code>，则检测<code>tag</code>是否满足<br>前缀为<code>!</code>，则该选择器结果取反<br>添加前缀<code>&amp;</code>，代表该选择器必须满足（必须是第一个字符）<br>如果为<code>null</code>，则检测物品是否为<code>null</code>；前缀为<code>!</code>时，返回所有非<code>null</code>物品<br>选择器前后不能有其他字符<br><code>id</code>的优先级比<code>tag</code>高<br>所有非法字符将会被忽略</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line86">line 86</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~thingStorageForEachCallback"><span class="type-signature"></span>thingStorageForEachCallback<span class="signature">(thing, index, array)</span></h3><div class="description"><p><code>ThingStorage.forEach</code>回调函数</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>thing</code></td><td class="type"><span class="param-type">Thing</span></td><td class="description last"><p>物品</p></td></tr><tr><td class="name"><code>index</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>编号</p></td></tr><tr><td class="name"><code>array</code></td><td class="type"><span class="param-type">Array.&lt;Thing></span></td><td class="description last"><p>原数组</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line100">line 100</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~Output">Output</h3><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>类型</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>内容</p></td></tr><tr><td class="name"><code>location</code></td><td class="type"><span class="param-type">Array.&lt;any></span></td><td class="description last"><p>代码执行位置</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line108">line 108</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~ThingString">ThingString</h3><div class="description"><p>物品（<code>Thing</code>）转换为<code>string</code>的结果<br>格式为：</p><pre class="prettyprint source lang-text"><code>i[id](|n[name])|s[stackSize]|d[data]
</code></pre><p>例如：<br>itest1|n测试物品1|s114514|d{}<br>itest2|s1919810|d{hello: 'world!'}</p></div><div class="member-item-container flex"><strong>Type:</strong><ul><li><span class="param-type">string</span></li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line115">line 115</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~StorageTask">StorageTask</h3><div class="description"><p>Storage任务<br>用于Storage Queue</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">"set"</span> |<wbr> <span class="param-type">"remove"</span></td><td class="description last"><p>任务类型</p></td></tr><tr><td class="name"><code>storageKey</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>数据储存空间名称</p></td></tr><tr><td class="name"><code>key</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>数据键</p></td></tr><tr><td class="name"><code>value</code></td><td class="type"><span class="param-type">any</span></td><td class="description last"><p>数据值</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line127">line 127</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="~ThingDialogCallback"><span class="type-signature"></span>ThingDialogCallback<span class="signature">(thing)</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>物品对话框正文内容</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>thing</code></td><td class="type"><span class="param-type">Thing</span></td><td class="description last"><p>物品</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="EasyBox3Lib.js.html">EasyBox3Lib.js</a>, <a href="EasyBox3Lib.js.html#line137">line 137</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>对话框正文内容</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-config.html">config</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-config.html">config</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Menu.html">Menu</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Pages.html">Pages</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Item.html">Item</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Thing.html">Thing</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Menu.html">Menu</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Pages.html">Pages</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Item.html">Item</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Thing.html">Thing</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-namespaces"><div>Namespaces</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-config.EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-config.EasyBox3Lib.html">EasyBox3Lib</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#EasyBox3Lib">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="global.html#EasyBox3Lib">EasyBox3Lib</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#dark-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>