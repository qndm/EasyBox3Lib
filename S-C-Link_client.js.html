<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Source: S-C-Link_client.js</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="fallback-light"><div class="sidebar-container"><div class="sidebar" id="sidebar"><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-BehaviorLib.html">BehaviorLib</a></div><div class="sidebar-section-children"><a href="module-config.html">config</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client.html">S-C-Link_client</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server.html">S-C-Link_server</a></div><div class="sidebar-section-children"><a href="module-BehaviorLib.html">BehaviorLib</a></div><div class="sidebar-section-children"><a href="module-config.html">config</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client.html">S-C-Link_client</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server.html">S-C-Link_server</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-BehaviorLib-BehaviorTarget.html">BehaviorTarget</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Menu.html">Menu</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Pages.html">Pages</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Item.html">Item</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Thing.html">Thing</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Vector2.html">Vector2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Vector3.html">Vector3</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Coord2.html">Coord2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-RGBColor.html">RGBColor</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-RGBAColor.html">RGBAColor</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-NodeControllers.html">NodeControllers</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-Vector2.html">Vector2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-Coord2.html">Coord2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-NodeBlueprint.html">NodeBlueprint</a></div><div class="sidebar-section-children"><a href="module-BehaviorLib-BehaviorTarget.html">BehaviorTarget</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Menu.html">Menu</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Pages.html">Pages</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Item.html">Item</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Thing.html">Thing</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Vector2.html">Vector2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Vector3.html">Vector3</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Coord2.html">Coord2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-RGBColor.html">RGBColor</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-RGBAColor.html">RGBAColor</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-NodeControllers.html">NodeControllers</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-Vector2.html">Vector2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-Coord2.html">Coord2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-NodeBlueprint.html">NodeBlueprint</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-namespaces"><div>Namespaces</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-config.EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-config.EasyBox3Lib.html">EasyBox3Lib</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#BehaviorLib">BehaviorLib</a></div><div class="sidebar-section-children"><a href="global.html#EasyBox3Lib">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="global.html#SCLink">SCLink</a></div><div class="sidebar-section-children"><a href="global.html#BehaviorLib">BehaviorLib</a></div><div class="sidebar-section-children"><a href="global.html#EasyBox3Lib">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="global.html#SCLink">SCLink</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#dark-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section id="source-page" class="source-page"><header><h1 id="title" class="has-anchor">S-C-Link_client.js</h1></header><article><pre class="prettyprint source lang-js"><code>// ==UserScript==
const gameConfig = {
    type: "S-C-Link_client",
    title: "S-C-Link 客户端",
    doc: `EasyBox3Lib的附属库，用于通过服务端渲染客户端内容，需要安装EasyBox3Lib。EasyBox3Lib的安装见帮助链接`,
    help: "https://qndm.github.io/EasyBox3Lib",
    file: true,
    isClient: true
}
// ==UserScript==

/**
 * S-C-Link 库（客户端）  
 * 用于通过服务端渲染客户端内容的库  
 * 依赖EasyBox3Lib 0.1.6  
 * （为什么使用`Game`开头的API？因为GUI是新岛专属（））
 * @author qndm
 * @module S-C-Link_client
 * @version 0.0.1
 * @license MIT
 */
// ----- S-C-Link_client Start -----
/**
 * 打包后的节点
 * @typedef PackedNode
 * @property {"renderMessage" | "removeMessage"} protocols 客户端事件协议，打包节点所需的协议只有`"renderMessage"`和`"removeMessage"`
 * @property {number} id 节点序号
 * @property {?string} name 节点名称，只在`"renderMessage"`协议下使用
 * @property {?object} data 节点自定义数量，只在`"renderMessage"`协议下使用
 * @property {?NodeStyle} style 节点样式，只在`"renderMessage"`协议下使用
 * @property {?string} content 节点内容，只在`"renderMessage"`协议下使用
 * @property {?number} pointerEventBehavior 界面元素对指针事件的行为方式，只在`"renderMessage"`协议下使用
 * @property {?string} autoResize 节点自动调整尺寸的方式，只在`"renderMessage"`协议下使用
 * @property {?boolean} visible 节点的可见性，只在`"renderMessage"`协议下使用
 * @property {?string} placeholder 节点占位文本内容，只在`"renderMessage"`协议下使用
 * @property {?Coord2} size 节点大小，只在`"renderMessage"`协议下使用
 * @property {?Coord2} position 节点位置，只在`"renderMessage"`协议下使用
 * @property {?Vector2} anchor 节点锚点，只在`"renderMessage"`协议下使用
 * @property {?number} parent 父节点id
 * @property {?PackedNode[]} childern 子节点，只在`"renderMessage"`协议下使用
 * @property {?NodeType} type 节点类型，只在`"renderMessage"`协议下使用
 */
/**
 * 打包后的数据，用于发送给客户端  
 * 要求有`protocols`属性指定协议
 * @typedef {PackedNode} PackedData
 */
/**
 * @type {Map&lt;number, NodeControllers>}
 */
var nodeMap = new Map();
/**
 * 二维向量  
 * 大部分和三维向量相同
 */
class Vector2 {
    x = 0;
    y = 0;
    /**
     * 定义一个二维向量
     * @param {number} x 二维向量`x`的值（水平方向）
     * @param {number} y 二维向量`y`的值（竖直方向）
     */
    constructor(x, y) {
        this.x = x;
        this.y = y;
    }
    set(x, y) {
        this.x = x;
        this.y = y;
        return this;
    }
    clone() {
        return new Vector2(this.x, this.y);
    }
    copy(v) {
        this.x = v.x;
        this.y = v.y;
        return this;
    }
    add(v) {
        return new Vector2(this.x + v.x, this.y / v.y);
    }
    sub(v) {
        return new Vector2(this.x - v.x, this.y - v.y);
    }
    mul(v) {
        return new Vector2(this.x * v.x, this.y * v.y);
    }
    div(v) {
        return new Vector2(this.x / v.x, this.y / v.y);
    }
    addEq(v) {
        this.x += v.x;
        this.y += v.y;
        return this;
    }
    subEq(v) {
        this.x -= v.x;
        this.y -= v.y;
        return this;
    }
    mulEq(v) {
        this.x *= v.x;
        this.y *= v.y;
        return this;
    }
    divEq(v) {
        this.x /= v.x;
        this.y /= v.y;
        return this;
    }
    pow(n) {
        return new Vector2(Math.pow(this.x, n), Math.pow(this.y, n));
    }
    distance(v) {
        return Math.sqrt(Math.pow(v.x - this.x, 2) + Math.pow(v.y - this.y, 2));
    }
    mag() {
        return Math.sqrt(this.x * this.x + this.y * this.y);
    }
    min(v) {
        return new Vector2(Math.min(this.x, v.x), Math.min(this.y, v.y));
    }
    max(v) {
        return new Vector2(Math.max(this.x, v.x), Math.max(this.y, v.y));
    }
    /**
     * 归一化函数
     * @returns {Vector2}
     */
    normalize() {
        let max = Math.max(this.x, this.y);
        return new Vector2(this.x / max, this.y / max);
    }
    scale(n) {
        return new Vector2(this.x * n, this.y * n);
    }
    toString() {
        return JSON.stringify(this);
    }
    towards(v) {
        return new Vector2(v.x - this.x, v.y - this.y);
    }
    equals(v, tolerance = 0.0001) {
        return Math.abs(v.x - this.x) &lt;= tolerance &amp;&amp; Math.abs(v.y - this.y) &lt;= tolerance;
    }
    lerp(v) {
        return this.add(v).scale(0.5);
    }
    static fromVec2(v) {
        return new Vector2(v.x, v.y);
    }
    setVec2(vec2) {
        vec2.x = this.x;
        vec2.y = this.y;
    }
}
/**
 * 三维向量  
 * 大部分和二维向量相同
 */
class Vector3 {
    x = 0;
    y = 0;
    z = 0;
    /**
     * 定义一个三维向量
     * @param {number} x 三维向量`x`的值（左右方向）
     * @param {number} y 三维向量`y`的值（竖直方向）
     * @param {number} z 三维向量`z`的值（前后方向）
     */
    constructor(x, y, z) {
        this.x = x;
        this.y = y;
        this.z = z;
    }
    set(x, y, z) {
        this.x = x;
        this.y = y;
        this.z = z;
        return this;
    }
    clone() {
        return new Vector3(this.x, this.y, this.z);
    }
    copy(v) {
        this.x = v.x;
        this.y = v.y;
        this.z = v.z;
        return this;
    }
    add(v) {
        return new Vector3(this.x + v.x, this.y + v.y, this.z + v.z);
    }
    sub(v) {
        return new Vector3(this.x - v.x, this.y - v.y, this.z - v.z);
    }
    mul(v) {
        return new Vector3(this.x * v.x, this.y * v.y, this.z * v.z);
    }
    div(v) {
        return new Vector3(this.x / v.x, this.y / v.y, this.z / v.z);
    }
    addEq(v) {
        this.x += v.x;
        this.y += v.y;
        this.z += v.z;
        return this;
    }
    subEq(v) {
        this.x -= v.x;
        this.y -= v.y;
        this.z -= v.z;
        return this;
    }
    mulEq(v) {
        this.x *= v.x;
        this.y *= v.y;
        this.z *= v.z;
        return this;
    }
    divEq(v) {
        this.x /= v.x;
        this.y /= v.y;
        this.z /= v.z;
        return this;
    }
    pow(n) {
        return new Vector3(Math.pow(this.x, n), Math.pow(this.y, n), Math.pow(this.z, n));
    }
    distance(v) {
        return Math.sqrt(Math.pow(v.x - this.x, 2) + Math.pow(v.y - this.y, 2) + Math.pow(v.z - this.z, 2));
    }
    mag() {
        return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2) + Math.pow(this.z, 2));
    }
    min(v) {
        return new Vector2(Math.min(this.x, v.x), Math.min(this.y, v.y), Math.min(this.z, v.z));
    }
    max(v) {
        return new Vector2(Math.max(this.x, v.x), Math.max(this.y, v.y), Math.max(this.z, v.z));
    }
    /**
     * 归一化函数
     * @returns {Vector2}
     */
    normalize() {
        let max = Math.max(this.x, this.y, this.z);
        return new Vector3(this.x / max, this.y / max, this.z / max);
    }
    scale(n) {
        return new Vector3(this.x * n, this.y * n, this.z * n);
    }
    toString() {
        return JSON.stringify(this);
    }
    towards(v) {
        return new Vector3(v.x - this.x, v.y - this.y, v.z - this.z);
    }
    equals(v, tolerance = 0.0001) {
        return Math.abs(v.x - this.x) &lt;= tolerance &amp;&amp; Math.abs(v.y - this.y) &lt;= tolerance &amp;&amp; Math.abs(v.z - this.z) &lt;= tolerance;
    }
    lerp(v) {
        return this.add(v).scale(0.5);
    }
    setVec3(vec3) {
        vec3.x = this.x;
        vec3.y = this.y;
        vec3.z = this.z;
    }
    static fromVec3(v) {
        return new Vector3(v.x, v.y, v.z);
    }
}

/**
 * 图像映射中区域的坐标  
 * 值为`offset`（绝对坐标）和`scale`（占父元素空间的百分比）之和
 */
class Coord2 {
    offset = new Vector2(0, 0);
    scale = new Vector2(0, 0);
    constructor(offset, scale = new Vector2(0, 0)) {
        this.offset = offset;
        this.scale = scale;
    }
    /**
     * 设置`offset.x`的值
     * @param {number} value
     */
    set x(value) {
        this.offset.x = value;
    }
    /**
     * 设置`offset.y`的值
     * @param {number} value
     */
    set y(value) {
        this.offset.y = value;
    }
    set(offset, scale) {
        this.offset = offset;
        this.scale = scale;
    }
    copy(c) {
        this.offset = c.offset.clone();
        this.scale = c.scale.clone();
    }
    clone() {
        return new Coord2(this.offset.clone(), this.scale.clone());
    }
    setCoord2(c) {
        this.offset.setVec2(c.offset);
        this.scale.setVec2(c.scale);
    }
    static fromCoord2(c) {
        return new Coord2(Vector2.fromVec2(c.offset), Vector2.fromVec2(c.scale));
    }
}
/**
 * RGB颜色
 */
class RGBColor {
    r = 0;
    g = 0;
    b = 0;
    constructor(r, g, b) {
        this.r = r;
        this.g = g;
        this.b = b;
    }
    set(r, g, b) {
        this.r = r;
        this.g = g;
        this.b = b;
    }
    copy(c) {
        this.r = c.r;
        this.g = c.g;
        this.b = c.b;
    }
    clone() {
        return new RGBColor(this.r, this.g, this.b);
    }
    add(c) {
        return new RGBColor(this.r + c.r, this.g + c.g, this.b + c.b);
    }
    sub(c) {
        return new RGBColor(this.r - c.r, this.g - c.g, this.b - c.b);
    }
    mul(c) {
        return new RGBColor(this.r * c.r, this.g * c.g, this.b * c.b);
    }
    div(c) {
        return new RGBColor(this.r / c.r, this.g / c.g, this.b / c.b);
    }
    addEq(c) {
        this.r += c.r;
        this.g += c.g;
        this.b += c.b;
        return this;
    }
    subEq(c) {
        this.r -= c.r;
        this.g -= c.g;
        this.b -= c.b;
        return this;
    }
    mulEq(c) {
        this.r *= c.r;
        this.g *= c.g;
        this.b *= c.b;
        return this;
    }
    divEq(c) {
        this.r /= c.r;
        this.g /= c.g;
        this.b /= c.b;
        return this;
    }
    scale(n) {
        return new RGBColor(this.r * n, this.g * n, this.b * n);
    }
    toRGB255() {
        return this.scale(255);
    }
    /**
     * 归一化函数
     * @returns {Vector2}
     */
    normalize() {
        let max = Math.max(this.r, this.g, this.b);
        return new RGBColor(this.r / max, this.g / max, this.b / max);
    }
    setVec3(vec3) {
        vec3.x = this.r;
        vec3.y = this.g;
        vec3.z = this.b;
    }
    equals(c, tolerance = 0.0001) {
        return Math.abs(c.r - this.r) &lt;= tolerance &amp;&amp; Math.abs(c.g - this.g) &lt;= tolerance &amp;&amp; Math.abs(c.b - this.b) &lt;= tolerance;
    }
    lerp(c) {
        return this.add(c).scale(0.5);
    }
    toString() {
        return JSON.stringify(this);
    }
    toRGBA() {
        return new RGBAColor(this.r, this.g, this.b, 1);
    }
    static fromRGB255(r, g, b) {
        return new RGBColor(r / 255, g / 255, b / 255);
    }
    /**
     * 从十六进制转换颜色  
     * 要求有6位（不包括`#`），例子：`123456`、`AABBCC`、`#FEDCBA`
     * @param {string} hex 十六进制颜色
     */
    static fromHEX(hex) {
        var s;
        if (hex.length &lt; 6)
            throwError(`无效的HEX：${hex}`);
        if (hex.startsWith('#'))
            s = hex.slice(1);
        else
            s = hex;
        return new RGBColor(parseInt(s.slice(0, 2), 16), parseInt(s.slice(2, 4), 16), parseInt(s.slice(4, 6), 16));
    }
    static fromRGB(c) {
        return new RGBColor(c.r, c.g, c.b);
    }
}
/**
 * RGBA颜色
 */
class RGBAColor {
    r = 0;
    g = 0;
    b = 0;
    a = 1;
    constructor(r, g, b, a) {
        this.r = r;
        this.g = g;
        this.b = b;
        this.a = a;
    }
    set(r, g, b, a) {
        this.r = r;
        this.g = g;
        this.b = b;
        this.a = a;
    }
    copy(c) {
        this.r = c.r;
        this.g = c.g;
        this.b = c.b;
        this.a = c.a;
    }
    clone() {
        return new RGBAColor(this.r, this.g, this.b, this.a);
    }
    add(c) {
        return new RGBAColor(this.r + c.r, this.g + c.g, this.b + c.b, this.a + c.a);
    }
    sub(c) {
        return new RGBAColor(this.r - c.r, this.g - c.g, this.b - c.b, this.a - c.a);
    }
    mul(c) {
        return new RGBAColor(this.r * c.r, this.g * c.g, this.b * c.b, this.a * c.a);
    }
    div(c) {
        return new RGBAColor(this.r / c.r, this.g / c.g, this.b / c.b, this.a / c.a);
    }
    addEq(c) {
        this.r += c.r;
        this.g += c.g;
        this.b += c.b;
        this.a += c.a;
        return this;
    }
    subEq(c) {
        this.r -= c.r;
        this.g -= c.g;
        this.b -= c.b;
        this.a -= c.a;
        return this;
    }
    mulEq(c) {
        this.r *= c.r;
        this.g *= c.g;
        this.b *= c.b;
        this.a *= c.a;
        return this;
    }
    divEq(c) {
        this.r /= c.r;
        this.g /= c.g;
        this.b /= c.b;
        this.a /= c.a;
        return this;
    }
    scale(n) {
        return new RGBAColor(this.r * n, this.g * n, this.b * n, this.a * n);
    }
    toRGBA255() {
        return this.scale(255);
    }
    /**
     * 归一化函数
     * @returns {Vector2}
     */
    normalize() {
        let max = Math.max(this.r, this.g, this.b, this.a);
        return new RGBAColor(this.r / max, this.g / max, this.b / max, this.a / max);
    }
    setVec3(vec3) {
        vec3.x = this.r;
        vec3.y = this.g;
        vec3.z = this.b;
    }
    equals(c, tolerance = 0.0001) {
        return Math.abs(c.r - this.r) &lt;= tolerance &amp;&amp; Math.abs(c.g - this.g) &lt;= tolerance &amp;&amp; Math.abs(c.b - this.b) &lt;= tolerance &amp;&amp; Math.abs(c.a - this.a) &lt;= tolerance;
    }
    lerp(c) {
        return this.add(c).scale(0.5);
    }
    toString() {
        return JSON.stringify(this);
    }
    toRGB() {
        return new RGBColor(this.r, this.g, this.a);
    }
    static fromRGBA255(r, g, b, a) {
        return new RGBAColor(r / 255, g / 255, b / 255, a / 255);
    }
    /**
     * 从十六进制转换颜色  
     * 要求有8位（不包括`#`），例子：`12345678`、`AABBCCFF`、`#FEDCBA98`
     * @param {string} hex 十六进制颜色
     */
    static fromHEX(hex) {
        var s;
        if (hex.length &lt; 8)
            throwError(`无效的HEX：${hex}`);
        if (hex.startsWith('#'))
            s = hex.slice(1);
        else
            s = hex;
        return new RGBAColor(parseInt(s.slice(0, 2), 16), parseInt(s.slice(2, 4), 16), parseInt(s.slice(4, 6), 16), parseInt(s.slice(6, 8), 16));
    }
    static fromRGBA(c) {
        return new RGBAColor(c.r, c.g, c.b, c.a);
    }
}
/**
 * 一个节点控制器  
 * 即使节点被移除，控制器仍然会保留
 */
class NodeControllers {
    /**
     * 节点id
     * @type {number}
     */
    id = -1;
    /**
     * 对应节点
     * @type {UiNode | null}
     */
    _uiNode = null;
    /**
     * 父节点控制器
     * @type {NodeControllers}
     */
    parent = null;
    /**
     * 创建一个节点控制器
     * @param {PackedNode | 0} packedData 服务端传过来的打包的数据，要求`"renderMessage"`协议。若为`0`，则表示根节点
     */
    constructor(packedData) {
        if (packedData === 0) {
            this.id = 0;
            this._uiNode = ui;
        } else {
            if (packedData.protocols !== "renderMessage")
                throwError("协议错误 要求：\"renderMessage\"");
            this.id = packedData.id;
            this.render(packedData);
        }
    }
    /**
     * 渲染节点
     * @param {PackedNode} packedData 服务端传过来的打包的数据，要求`"renderMessage"`协议
     */
    render(packedData) {
        if (this.id === 0)
            throw '不能渲染根节点';
        if (packedData.protocols !== "renderMessage")
            throwError("协议错误 要求：\"renderMessage\"");
        this.parent = nodeMap.get(packedData.parent);
        if (this._uiNode === null) {
            switch (packedData.type) {
                case "box":
                    this._uiNode = UiBox.create();
                    break;
                case "text":
                    this._uiNode = UiText.create();
                    break;
                case "image":
                    this._uiNode = UiImage.create();
                    break;
                case "input":
                    this._uiNode = UiInput.create();
                    break;
                default:
                    throwError(`未知节点类型：${packedData.type}`);
            }
        }
        this._uiNode.parent = this.parent._uiNode;
        this._uiNode.anchor.copy(packedData.anchor);
        this._uiNode.position.copy(packedData.position);
        this._uiNode.backgroundColor.copy(packedData.style.backgroundColor);
        this._uiNode.backgroundOpacity = packedData.style.backgroundColor.a;
        Coord2.fromCoord2(packedData.size).setCoord2(this._uiNode.size);
        this._uiNode.zIndex = packedData.style.zIndex;
        this._uiNode.autoResize = packedData.autoResize;
        this._uiNode.visible = packedData.visible;
        this._uiNode.pointerEventBehavior = packedData.pointerEventBehavior;
        switch (packedData.type) {
            case "text":
                this._uiNode.textContent = packedData.content;
                this._uiNode.textFontSize = packedData.style.textFontSize;
                this._uiNode.textColor.copy(packedData.style.textColor);
                switch (packedData.style.textXAlignment) {
                    case -1:
                        this._uiNode.textXAlignment = "Left";
                        break;
                    case 0:
                        this._uiNode.textXAlignment = "Center";
                        break;
                    case 1:
                        this._uiNode.textXAlignment = "Right";
                        break;
                    default:
                        if (typeof this._uiNode.textXAlignment === "string")
                            this._uiNode.textXAlignment = packedData.style.textXAlignment;
                        else
                            throwError(`未知的对齐方式：${JSON.stringify(packedData.style.textXAlignment)}`);
                }
                switch (packedData.style.textYAlignment) {
                    case -1:
                        this._uiNode.textYAlignment = "Top";
                        break;
                    case 0:
                        this._uiNode.textYAlignment = "Center";
                        break;
                    case 1:
                        this._uiNode.textYAlignment = "Bottom";
                        break;
                    default:
                        if (typeof this._uiNode.textYAlignment === "string")
                            this._uiNode.textYAlignment = packedData.style.textYAlignment;
                        else
                            throwError(`未知的对齐方式：${JSON.stringify(packedData.style.textXAlignment)}`);
                }
                break;
            case "image":
                this._uiNode.image = packedData.content;
                this._uiNode.imageOpacity = packedData.style.imageOpacity;
                break;
            case "input":
                this._uiNode.textContent = packedData.content;
                this._uiNode.textFontSize = packedData.style.textFontSize;
                this._uiNode.textColor.copy(packedData.style.textColor);
                switch (packedData.style.textXAlignment) {
                    case -1:
                        this._uiNode.textXAlignment = "Left";
                        break;
                    case 0:
                        this._uiNode.textXAlignment = "Center";
                        break;
                    case 1:
                        this._uiNode.textXAlignment = "Right";
                        break;
                    default:
                        if (typeof this._uiNode.textXAlignment === "string")
                            this._uiNode.textXAlignment = packedData.style.textXAlignment;
                        else
                            throwError(`未知的对齐方式：${JSON.stringify(packedData.style.textXAlignment)}`);
                }
                switch (packedData.style.textYAlignment) {
                    case -1:
                        this._uiNode.textYAlignment = "Top";
                        break;
                    case 0:
                        this._uiNode.textYAlignment = "Center";
                        break;
                    case 1:
                        this._uiNode.textYAlignment = "Bottom";
                        break;
                    default:
                        if (typeof this._uiNode.textYAlignment === "string")
                            this._uiNode.textYAlignment = packedData.style.textYAlignment;
                        else
                            throwError(`未知的对齐方式：${JSON.stringify(packedData.style.textYAlignment)}`);
                }
                this._uiNode.placeholder = packedData.placeholder;
                this._uiNode.placeholderColor.copy(packedData.style.placeholderColor);
                this._uiNode.placeholderOpacity = packedData.style.placeholderColor.a;
                break;
            default:
                throwError(`未知节点类型：${packedData.type}`);
        }
    }
    remove() {
        if (this.id === 0)
            throwError('不能删除根节点');
        this._uiNode.parent = undefined;
        this._uiNode = null;
        nodeMap.delete(this.id);
    }
}
/**
 * 抛出错误  
 * 会在页面上创建文本节点  
 * 可以通过点击节点关闭
 * @param  {...string} error 要抛出的错误
 */
function throwError(...error) {
    const errorInfo = UiText.create();
    errorInfo.textContent = `出现错误，错误信息如下：\n${'-'.repeat(50)}\n${error.join(' ')}\n${'-'.repeat(50)}\n点击可自动关闭`;
    errorInfo.textXAlignment = "Left";
    errorInfo.textYAlignment = "Top";
    errorInfo.pointerEventBehavior = 2;
    errorInfo.textColor.copy(new RGBColor(1, 0, 0).toRGB255());
    errorInfo.backgroundColor.copy(new RGBColor(0.12, 0.12, 0.12).toRGB255());
    errorInfo.backgroundOpacity = 1;
    errorInfo.size.scale.copy(new Vector2(1, 0));
    errorInfo.position.offset.copy(new Vector2(0, 0));
    errorInfo.autoResize = 'Y';
    errorInfo.name = 'errorInfo';
    errorInfo.parent = ui;
    errorInfo.events.once('pointerup', () => {
        errorInfo.parent = undefined;
    });
}
/**
 * 抛出错误的另类方式
 * @param  {...string} error 要抛出的错误
 */
function BSOD(...error) {
    const bsod = UiBox.create();
    bsod.pointerEventBehavior = 2;
    bsod.backgroundColor.copy(RGBColor.fromHEX('1e90ff'));
    bsod.backgroundOpacity = 1;
    bsod.size.scale.copy(new Vector2(1, 1));
    bsod.position.offset.copy(new Vector2(0, 0));
    bsod.autoResize = 'NONE';
    bsod.name = 'BSOD';
    bsod.parent = ui;
    const t1 = UiText.create();
    t1.textColor.copy(new RGBColor(1, 1, 1).toRGB255());
    t1.textFontSize = 175;
    t1.textContent = ':(';
    t1.textXAlignment = "Left";
    t1.textYAlignment = "Top";
    t1.position.offset.copy(new Vector2(140, 50));
    t1.autoResize = 'XY';
    t1.pointerEventBehavior = 1;
    t1.parent = bsod;
    const t2 = t1.clone();
    t2.position.offset.y = 300;
    t2.textFontSize = 35;
    t2.textContent = "This map ran into a problem and needs to restart. We're just collecting \nsome error info, and then we'll restart for you";
    const t3 = t2.clone();
    t3.position.offset.y = 400;
    const t4 = t3.clone();
    t4.position.offset.y = 475;
    t4.textFontSize = 17;
    t4.textContent = 'For more information about this issue and possible fixes,visit\nhttps://box3.yuque.com/staff-khn556/wupvz3';
    const t5 = t4.clone();
    t5.position.offset.x = 675;
    t5.textContent = 'if you call a support person, give them this info:';
    const errorInfo = t5.clone();
    errorInfo.position.offset.y = 500;
    errorInfo.autoWordWrap = true;
    errorInfo.autoResize = 'NONE';
    errorInfo.textFontSize = 14;
    errorInfo.textContent = error.join(' ');
    errorInfo.textLineHeight = 1;
    errorInfo.size.offset.copy(new Vector2(440, 210));
    (async () => {
        for (let i = 0; i &lt;= 100; i += 10) {
            t3.textContent = `${i}% Completed`;
            await sleep(1000);
        }
        bsod.parent = undefined;
    })();
    bsod.events.once('pointerup', () => {
        bsod.parent = undefined;
    });
}
nodeMap.set(0, new NodeControllers(0));
remoteChannel.events.on("client", (/**@type {PackedData}*/event) => {
    try {
        switch (event.protocols) {
            case "renderMessage":
                if (nodeMap.has(event.id))
                    nodeMap.get(event.id).render(packedData);
                else
                    nodeMap.set(event.id, new NodeControllers(event));
                break;
            case "removeMessage":
                if (nodeMap.has(event.id))
                    nodeMap.get(event.id).remove();
                else
                    throw `id为 ${event.id} 的节点未被渲染过`;
                break;
            default:
                break;
        }
    } catch (e) {
        throwError(e.stack);
    }
});
// ----- S-C-Link_client End   -----
export { Vector2, Vector3, Coord2, RGBColor, RGBAColor, throwError, BSOD }</code></pre></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-BehaviorLib.html">BehaviorLib</a></div><div class="sidebar-section-children"><a href="module-config.html">config</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client.html">S-C-Link_client</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server.html">S-C-Link_server</a></div><div class="sidebar-section-children"><a href="module-BehaviorLib.html">BehaviorLib</a></div><div class="sidebar-section-children"><a href="module-config.html">config</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client.html">S-C-Link_client</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server.html">S-C-Link_server</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-BehaviorLib-BehaviorTarget.html">BehaviorTarget</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Menu.html">Menu</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Pages.html">Pages</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Item.html">Item</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Thing.html">Thing</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Vector2.html">Vector2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Vector3.html">Vector3</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Coord2.html">Coord2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-RGBColor.html">RGBColor</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-RGBAColor.html">RGBAColor</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-NodeControllers.html">NodeControllers</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-Vector2.html">Vector2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-Coord2.html">Coord2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-NodeBlueprint.html">NodeBlueprint</a></div><div class="sidebar-section-children"><a href="module-BehaviorLib-BehaviorTarget.html">BehaviorTarget</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-DataStorage.html">DataStorage</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Menu.html">Menu</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Pages.html">Pages</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-EntityGroup.html">EntityGroup</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Item.html">Item</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-Thing.html">Thing</a></div><div class="sidebar-section-children"><a href="module-EasyBox3Lib-ThingStorage.html">ThingStorage</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Vector2.html">Vector2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Vector3.html">Vector3</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-Coord2.html">Coord2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-RGBColor.html">RGBColor</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-RGBAColor.html">RGBAColor</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_client-NodeControllers.html">NodeControllers</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-Vector2.html">Vector2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-Coord2.html">Coord2</a></div><div class="sidebar-section-children"><a href="module-S-C-Link_server-NodeBlueprint.html">NodeBlueprint</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-namespaces"><div>Namespaces</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-config.EasyBox3Lib.html">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="module-config.EasyBox3Lib.html">EasyBox3Lib</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#BehaviorLib">BehaviorLib</a></div><div class="sidebar-section-children"><a href="global.html#EasyBox3Lib">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="global.html#SCLink">SCLink</a></div><div class="sidebar-section-children"><a href="global.html#BehaviorLib">BehaviorLib</a></div><div class="sidebar-section-children"><a href="global.html#EasyBox3Lib">EasyBox3Lib</a></div><div class="sidebar-section-children"><a href="global.html#SCLink">SCLink</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#dark-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>