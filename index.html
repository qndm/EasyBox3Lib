<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="DataStorage.html">DataStorage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DataStorage.html#drop">drop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DataStorage.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DataStorage.html#list">list</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DataStorage.html#set">set</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DataStorage.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="EntityGroup.html">EntityGroup</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EntityGroup.html#adjustmentEntityPosition">adjustmentEntityPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="EntityGroup.html#removeEntity">removeEntity</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Menu.html">Menu</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Menu.html#addSubmenu">addSubmenu</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Menu.html#onClose">onClose</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Menu.html#onOpen">onOpen</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Menu.html#open">open</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Pages.html">Pages</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Pages.html#onClose">onClose</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Pages.html#onOpen">onOpen</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Pages.html#open">open</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addEventHandler">addEventHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#changeVelocity">changeVelocity</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#config">config</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#continueGameLoop">continueGameLoop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#copyObject">copyObject</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createEntity">createEntity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createGameLoop">createGameLoop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#dropDataStorage">dropDataStorage</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#EasyBox3Lib">EasyBox3Lib</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#executeSQLCode">executeSQLCode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getData">getData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getDataStorage">getDataStorage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getDataStorageInCache">getDataStorageInCache</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getEntities">getEntities</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getEntity">getEntity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getPlayer">getPlayer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getTheCodeExecutionLocation">getTheCodeExecutionLocation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#inputDialog">inputDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#isAdmin">isAdmin</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#listData">listData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#onTick">onTick</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#output">output</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#pauseGameLoop">pauseGameLoop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#planningOnTickEvents">planningOnTickEvents</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#preprocess">preprocess</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#random">random</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#registerEvent">registerEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#removeData">removeData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#removeEvent">removeEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#resizePlayer">resizePlayer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#selectDialog">selectDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setAdminStatus">setAdminStatus</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setData">setData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#shuffleTheList">shuffleTheList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#start">start</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#stopGameLoop">stopGameLoop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#textDialog">textDialog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#toChineseDate">toChineseDate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#triggerEvent">triggerEvent</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>EasyBox3Lib</h1>
<p>一个适用于大部分地图的通用代码库。<br>
<strong>警告：该库可能存在不稳定性，因该库出现的任何损失，库作者一概不负责！</strong> <s>因一些原因没测试过QAQ</s></p>
<h2>特点</h2>
<ul>
<li>开源 - 该库根据<code>MIT</code>协议开源</li>
<li>简单 - 该库使用简单</li>
<li>易懂 - 该库的代码简单，方便修改，并编写了大量的<code>JsDoc</code></li>
<li>实用 - 不存在一些虽然很厉害但是没什么用的方法</li>
</ul>
<h2>使用</h2>
<ol>
<li>添加主文件：复制<a href="./script/EasyBox3Lib.js">/script/EasyBox3Lib.js</a>中的全部内容，并粘贴在地图内的一个<strong>空的</strong>脚本文件内，如<code>EasyBox3Lib.js</code>。<br>
tips：你放到<code>index.js</code>等文件里里面其实也可以，但非常不建议这么做，并且通常需要修改</li>
<li>添加配置文件，创建一个新的脚本文件，命名为<code>config.js</code>（<strong>不要命名为<code>config</code>或者<code>config.js.js</code>，这样无法读取</strong>），并将<a href="./script/config.js">/script/config.js</a></li>
<li>在<code>index.js</code>的开头加上以下代码（<strong><code>EasyBox3Lib.js</code>改成库的名称</strong>）：</li>
</ol>
<pre class="prettyprint source lang-javascript"><code>const $ = require('./EasyBox3Lib.js');
</code></pre>
<ol start="4">
<li>在需要调用库的其他代码文件（你自己写的）开头加上以下代码：</li>
</ol>
<pre class="prettyprint source lang-javascript"><code>const $ = EasyBox3Lib;
</code></pre>
<ol start="5">
<li>使用 <code>$</code> 来调用库中的方法</li>
</ol>
<p>ps：<code>$</code> 可以改为其他内容，只要不冲突</p>
<h2>协助开发</h2>
<p>可联系<a href="github.com/qndm">qndm</a>，或者发<a href="github.com/qndm/EasyBox3Lib/issues">Issues</a>和<a href="https://github.com/qndm/EasyBox3Lib/pulls">Pull requests</a><br>
<a href="./developmentSpecification.md">开发规范</a></p>
<h2>版本 &amp; 更新日志</h2>
<h3>0.0.8</h3>
<p>新增 <code>Page</code><br>
新增 <code>changeVelocity</code><br>
优化 <code>DataStorage.list</code>，使其新旧编辑器返回值一致<br>
修复 <code>planningOnTickEvents</code>的bug<br>
新增 <code>EntityGroup.removeEntity</code><br>
调整 <code>OnTickHandlerToken.constructor</code> 方法：</p>
<ul>
<li><code>automaticTps</code> 参数的默认值从<code>true</code>改为<code>false</code></li>
<li>修复<code>tps</code>的bug</li>
</ul>
<h3>0.0.7</h3>
<p>修复若干bug<br>
允许在配置文件不全的情况下使用库<br>
<s>尝试使用<code>TypeScript</code></s> 已放弃：过于难修<br>
修复部分<code>JsDoc</code>的问题<br>
移除了<code>OUTPUT_TYPE</code>，<code>output</code>方法直接填入字符串<br>
<code>SQL</code>反注入<br>
新增 实体组（已测试）</p>
<h3>0.0.6</h3>
<p><code>EasyBox3Lib.game.xxx</code> -&gt; <code>EasyBox3Lib.xxx</code><br>
开了个实体组的坑<br>
完全重写了数据库（但也完全没测试）</p>
<ul>
<li>现在使用键值对来储存数据</li>
<li><code>sql</code> -&gt; <code>storage</code></li>
<li>移除除了<code>executeSQLCode</code>的所有方法</li>
<li>新增方法：
<ul>
<li><code>storage.getDataStorage</code></li>
<li><code>storage.getDataStorageInCache</code></li>
<li><code>storage.setData</code></li>
<li><code>storage.getData</code></li>
<li><code>storage.listData</code></li>
<li><code>storage.removeData</code></li>
<li><code>storage.dropDataStorage</code></li>
</ul>
</li>
<li>添加了对旧编辑器<code>PostgreSQL</code>的支持</li>
<li>添加了对新编辑器的支持</li>
<li>移除了配置文件中的<code>EasyBox3Lib.enablePostgreSQL</code></li>
</ul>
<h3>0.0.5</h3>
<p>优化<code>JsDoc</code></p>
<ul>
<li>删除了一些不需要的<code>JsDoc</code></li>
<li>删除了内部的<code>@version</code>和不需要的<code>@author</code></li>
</ul>
<p>新增自定义事件（未测试）</p>
<ul>
<li><code>registerEvent</code> 注册事件</li>
<li><code>addEventHandler</code> 添加事件监听器</li>
<li><code>triggerEvent</code> 触发事件</li>
<li><code>removeEvent</code> 移除事件</li>
</ul>
<p>新增<code>onTick</code>，对Box3现有的<code>onTick</code>做了些调整和优化（也未测试）
新增预处理（还是未测试）</p>
<ul>
<li>使用<code>preprocess</code>方法添加</li>
<li>使用<code>addEventHandler</code>监听<code>onStart方法</code></li>
</ul>
<h3>0.0.4</h3>
<p>修复 <code>getTheCodeExecutionLocation</code> 方法的bug<br>
优化 <code>output</code> 和 <code>getTheCodeExecutionLocation</code> 方法</p>
<ul>
<li>现在可以获取到调用该方法的函数名称了<br>
可以通过配置 <code>getFunctionNameBlackList</code> 添加要忽略的函数</li>
</ul>
<h3>0.0.3</h3>
<p>新增 SQL缓存（测试）<br>
将一些常量改为了大写（例如：<code>outputType</code> -&gt; <code>OUTPUT_THPE</code>）<br>
对Pro地图（<code>Arena</code>）提供支持：</p>
<ul>
<li>自动添加Game...对应的Box3...<br>
例如：<code>GameVector3</code> -&gt; <code>Box3Vector3</code></li>
</ul>
<p>新增 <code>getTheCodeExecutionLocation</code>，以获取代码的执行位置<br>
<code>output</code>方法输出时会输出代码执行位置（测试，可配置）<br>
<code>index.js</code>以外脚本调用库时不是重复使用<code>require</code>，而是直接使用<code>global.EasyBox3Lib</code></p>
<h3>0.0.2</h3>
<p>开了个SQL缓存的坑<br>
修复了部分SQL方法中没有加<code>await</code>的bug<br>
修复了<code>copyObject</code>中不能复制对象中类型为<code>undefined</code>或者<code>function</code>的属性的bug<br>
为部分方法添加了<code>jsdoc</code><br>
修复了<code>Menu</code>无法打开上一级菜单的bug<br>
修改部分<code>jsdoc</code>内容</p>
<h3>0.0.1</h3>
<p>发布</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Thu Aug 10 2023 13:05:50 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>